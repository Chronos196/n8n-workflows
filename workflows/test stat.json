{
  "active": false,
  "connections": {
    "–ü–æ–ª—É—á–∞–µ–º —Ä–µ–π—Å—ã": {
      "main": [
        [
          {
            "node": "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–µ–π—Å–æ–≤ –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç –≤ –∫–∞—Ä—å–µ—Ä–µ2": {
      "main": [
        [
          {
            "node": "Code2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–µ–π—Å–æ–≤ –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª": {
      "main": [
        [
          {
            "node": "Code3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code3": {
      "main": [
        [
          {
            "node": "Merge7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code2": {
      "main": [
        [
          {
            "node": "Merge7",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Code6": {
      "main": [
        [
          {
            "node": "Telegram8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "No Operation, do nothing": {
      "main": [
        [
          {
            "node": "–ü–æ–ª—É—á–∞–µ–º —Ä–µ–π—Å—ã",
            "type": "main",
            "index": 0
          },
          {
            "node": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç –≤ –∫–∞—Ä—å–µ—Ä–µ2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge7": {
      "main": [
        [
          {
            "node": "Code6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–æ–ª—É—á–∞–µ–º —Ä–µ–π—Å—ã1": {
      "main": [
        [
          {
            "node": "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–µ–π—Å–æ–≤ –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç –≤ –∫–∞—Ä—å–µ—Ä–µ": {
      "main": [
        [
          {
            "node": "–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–∞–±–æ—Ç—ã",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–µ–π—Å–æ–≤ –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª1": {
      "main": [
        [
          {
            "node": "–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ–π—Å—ã",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "No Operation, do nothing1": {
      "main": [
        [
          {
            "node": "–ü–æ–ª—É—á–∞–µ–º —Ä–µ–π—Å—ã1",
            "type": "main",
            "index": 0
          },
          {
            "node": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç –≤ –∫–∞—Ä—å–µ—Ä–µ",
            "type": "main",
            "index": 0
          },
          {
            "node": "–ø–æ–ª—É—á–∞–µ–º –∏–∑ –º–æ–¥—É–ª—è –∑–∞—Ä–ø–ª–∞—Ç–∞ –≤–æ–¥–∏—Ç–µ–ª—è",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø–æ–ª—É—á–∞–µ–º –∏–∑ –º–æ–¥—É–ª—è –∑–∞—Ä–ø–ª–∞—Ç–∞ –≤–æ–¥–∏—Ç–µ–ª—è": {
      "main": [
        [
          {
            "node": "–ø–æ–ª—É—á–∞–µ–º –∑–∞–ø–∏—Å–∏ –æ –ø—Ä–µ–º–∏—è—Ö/—à—Ç—Ä–∞—Ñ–∞—Ö",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø–æ–ª—É—á–∞–µ–º –∑–∞–ø–∏—Å–∏ –æ –ø—Ä–µ–º–∏—è—Ö/—à—Ç—Ä–∞—Ñ–∞—Ö": {
      "main": [
        [
          {
            "node": "–ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –ø—Ä–µ–º–∏–∏/—à—Ç—Ä–∞—Ñ—ã",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –ø—Ä–µ–º–∏–∏/—à—Ç—Ä–∞—Ñ—ã": {
      "main": [
        [
          {
            "node": "–¥–æ–±–∞–≤–ª—è–µ–º –µ—â–µ –ø—Ä–µ–º–∏–∏/—à—Ç—Ä–∞—Ñ—ã",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ–π—Å—ã": {
      "main": [
        [
          {
            "node": "—Ä–µ–π—Å—ã+—Ä–∞–±–æ—Ç—ã",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–∞–±–æ—Ç—ã": {
      "main": [
        [
          {
            "node": "—Ä–µ–π—Å—ã+—Ä–∞–±–æ—Ç—ã",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "—Ä–µ–π—Å—ã+—Ä–∞–±–æ—Ç—ã": {
      "main": [
        [
          {
            "node": "–¥–æ–±–∞–≤–ª—è–µ–º –µ—â–µ –ø—Ä–µ–º–∏–∏/—à—Ç—Ä–∞—Ñ—ã",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–¥–æ–±–∞–≤–ª—è–µ–º –µ—â–µ –ø—Ä–µ–º–∏–∏/—à—Ç—Ä–∞—Ñ—ã": {
      "main": [
        [
          {
            "node": "—Ñ–æ—Ä–º–∏—Ä—É–µ–º –º–µ—Å—è—á–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "—Ñ–æ—Ä–º–∏—Ä—É–µ–º –º–µ—Å—è—á–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ": {
      "main": [
        [
          {
            "node": "–≤—ã–≤–æ–¥–∏–º –º–µ—Å—è—á–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏1": {
      "main": [
        [
          {
            "node": "–ø–æ–ª—É—á–∏–º –≤—Å–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø–æ–ª—É—á–∏–º –≤—Å–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏3": {
      "main": [
        [
          {
            "node": "–ï—Å—Ç—å –ª–∏ –∑–∞—è–≤–∫–∏ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ï—Å—Ç—å –ª–∏ –∑–∞—è–≤–∫–∏ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é": {
      "main": [
        [
          {
            "node": "Sort",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–Ω–µ—Ç –∑–∞—è–≤–æ–∫ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–≤—ã–±–æ—Ä –∑–∞—è–≤–∫–∏(–ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)1": {
      "main": [
        [
          {
            "node": "–æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ 9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Sort": {
      "main": [
        [
          {
            "node": "–≤—ã–±–æ—Ä –∑–∞—è–≤–∫–∏(–ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Execute Workflow Trigger": {
      "main": [
        [
          {
            "node": "–∞–≤—Ç–æ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏": {
      "main": [
        [
          {
            "node": "Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–µ—Å—Ç—å –ª–∏ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏1": {
      "main": [
        [
          {
            "node": "—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≤—Ä–µ–º—è –≤ —É–¥–æ–±–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç1",
            "type": "main",
            "index": 0
          },
          {
            "node": "–æ–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Ä–µ–º—è –∏ —Ç–µ–∫—Å—Ç1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≤—Ä–µ–º—è –≤ —É–¥–æ–±–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç1": {
      "main": [
        [
          {
            "node": "–æ–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Ä–µ–º—è –∏ —Ç–µ–∫—Å—Ç1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–æ–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Ä–µ–º—è –∏ —Ç–µ–∫—Å—Ç1": {
      "main": [
        [
          {
            "node": "–î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–≥–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–≥–∏": {
      "main": [
        [
          {
            "node": "–†–∞–∑–¥–µ–ª—è–µ–º –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–†–∞–∑–¥–µ–ª—è–µ–º –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º": {
      "main": [
        [
          {
            "node": "–¥–æ–±–∞–≤–∏–º –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–¥–æ–±–∞–≤–∏–º –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–¥–æ–±–∞–≤–∏–º –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–¥–æ–±–∞–≤–∏–º –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É": {
      "main": [
        [
          {
            "node": "–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é2": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–¥–æ–±–∞–≤–∏–º –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É1": {
      "main": [
        [
          {
            "node": "–≤ —Ä–∞–±–æ—Ç–µ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–¥–æ–±–∞–≤–∏–º –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É2": {
      "main": [
        [
          {
            "node": "—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–≤ —Ä–∞–±–æ—Ç–µ": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge2": {
      "main": [
        [
          {
            "node": "–≤ –æ–¥–∏–Ω —Ç–µ–∫—Å—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ–º",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–≤ –æ–¥–∏–Ω —Ç–µ–∫—Å—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ–º": {
      "main": [
        [
          {
            "node": "–ø–æ–ª—É—á–∞–µ–º –≤—Å–µ –∑–∞—è–≤–∫–∏1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü—Ä–æ–≤–µ—Ä–∫–∞ –µ—Å—Ç—å –ª–∏ —Ç–∞–∫–∏–µ –∑–∞—è–≤–∫–∏": {
      "main": [
        [
          {
            "node": "–í—ã–≤–æ–¥ —Å –∫–Ω–æ–ø–∫–æ–π \"–∑–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞—è–≤–∫—É\"",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–í—ã–≤–æ–¥ —Å –∫–Ω–æ–ø–∫–æ–π \"–Ω–∞–∑–∞–¥\"",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞—Ç—É—Å5": {
      "main": [
        [
          {
            "node": "–ø–æ–ª—É—á–∞–µ–º –∞–≤—Ç–æ –ø–æ –≤–æ–¥–∏—Ç–µ–ª—é",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø–æ–ª—É—á–∞–µ–º –∞–≤—Ç–æ –ø–æ –≤–æ–¥–∏—Ç–µ–ª—é": {
      "main": [
        [
          {
            "node": "–ø–æ–ª—É—á–∞–µ–º –≤—Å–µ –∑–∞—è–≤–∫–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø–æ–ª—É—á–∞–µ–º –≤—Å–µ –∑–∞—è–≤–∫–∏": {
      "main": [
        [
          {
            "node": "–∑–∞—è–≤–∫–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º != –ì–æ—Ç–æ–≤–æ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–∑–∞—è–≤–∫–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º != –ì–æ—Ç–æ–≤–æ": {
      "main": [
        [
          {
            "node": "–µ—Å—Ç—å –ª–∏ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø–æ–ª—É—á–∞–µ–º –≤—Å–µ –∑–∞—è–≤–∫–∏1": {
      "main": [
        [
          {
            "node": "–∑–∞—è–≤–∫–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º –í —Ä–∞–±–æ—Ç–µ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–∑–∞—è–≤–∫–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º –í —Ä–∞–±–æ—Ç–µ": {
      "main": [
        [
          {
            "node": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –µ—Å—Ç—å –ª–∏ —Ç–∞–∫–∏–µ –∑–∞—è–≤–∫–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "123-1": {
      "main": [
        [
          {
            "node": "—Ä–∞–∑–¥–µ–ª—è–µ–º —Ä–µ–π—Å—ã1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "—Ä–∞–∑–¥–µ–ª—è–µ–º —Ä–µ–π—Å—ã1": {
      "main": [
        [
          {
            "node": "—Ä–µ–π—Å—ã –ø–æ –º–∞—à–∏–Ω–µ –≤ –Ω—É–∂–Ω–æ–π –ø–µ—Ä–µ–≤–æ–∑–∫–µ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "—Ä–∞–∑–¥–µ–ª—è–µ–º —Ä–µ–π—Å—ã": {
      "main": [
        [
          {
            "node": "–≤—ã–ø–æ–ª–Ω—è—é—â–∏–µ—Å—è —Ä–µ–π—Å—ã",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–∞–±–±–∞–≤–±–∞—ã": {
      "main": [
        [
          {
            "node": "123-1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "—Ä–µ–π—Å—ã –ø–æ –∞–≤—Ç–æ": {
      "main": [
        [
          {
            "node": "—Ä–∞–∑–¥–µ–ª—è–µ–º —Ä–µ–π—Å—ã",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–∞–≤—Ç–æ": {
      "main": [
        [
          {
            "node": "–ø–æ–ª—É—á–∞–µ–º –∑–∞—è–≤–∫–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "—É–±–∏—Ä–∞–µ–º –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–∑–∫–∏": {
      "main": [
        [
          {
            "node": "–ø–µ—Ä–≤–∞—è –ø–µ—Ä–µ–≤–æ–∑–∫–∞",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "—Å–∞–º–∏ –ø–µ—Ä–µ–≤–æ–∑–∫–∏": {
      "main": [
        [
          {
            "node": "—É–±–∏—Ä–∞–µ–º –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–∑–∫–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø–µ—Ä–µ–≤–æ–∑–∫–∞ –∏–∑ –æ—á–µ—Ä–µ–¥–∏": {
      "main": [
        [
          {
            "node": "—Å–∞–º–∏ –ø–µ—Ä–µ–≤–æ–∑–∫–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "–ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–π—Å–æ–≤",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–π—Å–æ–≤": {
      "main": [
        [
          {
            "node": "—Ä–µ–π—Å—ã –≤ –ø–µ—Ä–µ–≤–æ–∑–∫–µ",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "—Ä–µ–π—Å—ã –≤ –ø–µ—Ä–µ–≤–æ–∑–∫–µ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø–æ–ª—É—á–∞–µ–º –∑–∞—è–≤–∫–∏": {
      "main": [
        [
          {
            "node": "–∑–∞—è–≤–∫–∏ \"–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é\"",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2024-10-01T17:34:02.123Z",
  "id": "F2N7DdR7nAVdTFUJ",
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "test stat",
  "nodes": [
    {
      "parameters": {},
      "id": "a87c2b17-48a4-45a6-99c6-6629d2a89709",
      "name": "1",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1,
      "position": [
        -860,
        460
      ],
      "disabled": true
    },
    {
      "parameters": {
        "url": "https://dev.everest.lamart.site/get_rounds_by_transportation",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "cookie",
              "value": "={{ $('Execute Workflow Trigger').item.json.cookie }}"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"transportation_id\": {{ $json.id }}\n}  ",
        "options": {}
      },
      "id": "9fe57b2b-4e5f-430b-ad66-d90fe8b98857",
      "name": "123",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        -360,
        60
      ],
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "resource": "custom",
        "customResource": "=transportation.round",
        "operation": "getAll",
        "returnAll": true,
        "options": {
          "fieldsList": [
            "id",
            "time_of_start",
            "driver_rate",
            "driver_with_trailer"
          ]
        },
        "filterRequest": {
          "filter": [
            {
              "fieldName": "driver",
              "value": "={{ $json.odoo_id }}"
            },
            {
              "fieldName": "status",
              "value": "–ó–∞–≤–µ—Ä—à–µ–Ω"
            }
          ]
        }
      },
      "id": "83efae95-e9d6-4eb9-a16d-3804bbee0e40",
      "name": "–ü–æ–ª—É—á–∞–µ–º —Ä–µ–π—Å—ã",
      "type": "n8n-nodes-base.odoo",
      "typeVersion": 1,
      "position": [
        40,
        480
      ],
      "alwaysOutputData": false,
      "credentials": {
        "odooApi": {
          "id": "ITgOrhO4Hf2QcDtf",
          "name": "odoo dev"
        }
      }
    },
    {
      "parameters": {
        "resource": "custom",
        "customResource": "=quarry.work",
        "operation": "getAll",
        "returnAll": true,
        "options": {
          "fieldsList": [
            "id",
            "quarry_hours",
            "price_for_driver",
            "create_date",
            "start_time"
          ]
        },
        "filterRequest": {
          "filter": [
            {
              "fieldName": "driver",
              "value": "={{ $json.odoo_id }}"
            },
            {
              "fieldName": "status",
              "value": "–ó–∞–≤–µ—Ä—à–µ–Ω—ã"
            }
          ]
        }
      },
      "id": "418312a4-8291-46f1-85be-ac7c61ced82b",
      "name": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç –≤ –∫–∞—Ä—å–µ—Ä–µ2",
      "type": "n8n-nodes-base.odoo",
      "typeVersion": 1,
      "position": [
        60,
        680
      ],
      "alwaysOutputData": false,
      "credentials": {
        "odooApi": {
          "id": "ITgOrhO4Hf2QcDtf",
          "name": "odoo dev"
        }
      }
    },
    {
      "parameters": {
        "aggregate": "aggregateAllItemData",
        "options": {}
      },
      "id": "49774021-7850-4bcb-9fba-8ab261f35354",
      "name": "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–µ–π—Å–æ–≤ –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª",
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        380,
        460
      ],
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "jsCode": "// –ü–æ–ª—É—á–∞–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫—É–±–∏–∫–∞\nconst inputData = items.map(item => item.json);\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è 10 —á–∞—Å–æ–≤ –∫–æ –≤—Ä–µ–º–µ–Ω–∏\nfunction addHoursToTime(timeStr, hours) {\n    const dateObj = new Date(timeStr.replace(\" \", \"T\")); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Å—Ç—Ä–æ–∫—É –≤—Ä–µ–º–µ–Ω–∏ –≤ –æ–±—ä–µ–∫—Ç Date\n    dateObj.setHours(dateObj.getHours() + hours); // –î–æ–±–∞–≤–ª—è–µ–º 10 —á–∞—Å–æ–≤\n    return dateObj.toISOString().replace(\"T\", \" \").split(\".\")[0]; // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ–±—Ä–∞—Ç–Ω–æ –≤ —Å—Ç—Ä–æ–∫—É –∏ —É–±–∏—Ä–∞–µ–º –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã\n}\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–π—Å–æ–≤ –ø–æ –¥–∞—Ç–∞–º\nfunction calculateTotalsByDate(data) {\n    const totalsByDate = {};\n\n    data.forEach(entry => {\n        entry.data.forEach(round => {\n            const { driver_rate, driver_with_trailer, time_of_start } = round;\n\n            // –î–æ–±–∞–≤–ª—è–µ–º 10 —á–∞—Å–æ–≤ –∫–æ –≤—Ä–µ–º–µ–Ω–∏\n            const adjustedTime = addHoursToTime(time_of_start, 5);\n\n            // –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–æ–ª—å–∫–æ –¥–∞—Ç—É –∏–∑ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏\n            const date = adjustedTime.split(\" \")[0];\n\n            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π –¥–∞—Ç—ã\n            if (!totalsByDate[date]) {\n                totalsByDate[date] = {\n                    total_count: 0,  // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–π—Å–æ–≤\n                    total_earnings: 0  // –û–±—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫\n                };\n            }\n\n            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–π—Å–æ–≤\n            totalsByDate[date].total_count++;\n\n            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—É–º–º—É –∑–∞—Ä–∞–±–æ—Ç–∫–∞\n            totalsByDate[date].total_earnings += driver_rate;\n        });\n    });\n\n    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ–±—ä–µ–∫—Ç –≤ –º–∞—Å—Å–∏–≤ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏\n    return Object.keys(totalsByDate).map(date => ({\n        date: date,\n        total_count: totalsByDate[date].total_count,\n        total_earnings: totalsByDate[date].total_earnings\n    }));\n}\n\n// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ\nconst processedData = calculateTotalsByDate(inputData);\n\n// –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫—É–±–∏–∫–∞\nreturn processedData.map(entry => ({ json: entry }));\n"
      },
      "id": "10f45fbf-449f-4598-a383-aea247cda2f7",
      "name": "Code3",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        680,
        460
      ]
    },
    {
      "parameters": {
        "jsCode": "// –ü–æ–ª—É—á–∞–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫—É–±–∏–∫–∞\nconst inputData = items.map(item => item.json);\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö\nfunction calculateTotals(data) {\n    return data.map(entry => {\n        const { id, quarry_hours, price_for_driver, date, start_time } = entry;\n\n        // –ï—Å–ª–∏ price_for_driver —Ä–∞–≤–µ–Ω 0 –∏–ª–∏ false, –∑–∞—Ä–∞–±–æ—Ç–æ–∫ —Ä–∞–≤–µ–Ω 0\n        if (!price_for_driver) {\n            // –î–æ–±–∞–≤–ª—è–µ–º 10 —á–∞—Å–æ–≤ –∫ –¥–∞—Ç–µ\n            const adjustedDate = new Date(start_time);\n            adjustedDate.setHours(adjustedDate.getHours() + 5); // –ü—Ä–∏–±–∞–≤–ª—è–µ–º 10 —á–∞—Å–æ–≤\n\n            return {\n                id: id,\n                quarry_hours: quarry_hours,  // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—å–µ—Ä–Ω—ã—Ö —á–∞—Å–æ–≤\n                total: 0,  // –ó–∞—Ä–∞–±–æ—Ç–æ–∫ = 0\n                date: adjustedDate.toISOString(),  // –î–ª—è –≤—ã–≤–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–∞—Ç—É\n                original_date: date  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –¥–∞—Ç—É\n            };\n        }\n\n        // –¶–µ–Ω–∞ –≤–æ–¥–∏—Ç–µ–ª—è —É–∂–µ –∏—Ç–æ–≥–æ–≤–∞—è, –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞–µ–º –µ—ë –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n        const total = parseFloat(price_for_driver);\n\n        // –î–æ–±–∞–≤–ª—è–µ–º 10 —á–∞—Å–æ–≤ –∫ –¥–∞—Ç–µ\n        const adjustedDate = new Date(start_time);\n        adjustedDate.setHours(adjustedDate.getHours() + 5); // –ü—Ä–∏–±–∞–≤–ª—è–µ–º 10 —á–∞—Å–æ–≤\n\n        return {\n            id: id,\n            quarry_hours: quarry_hours,  // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—å–µ—Ä–Ω—ã—Ö —á–∞—Å–æ–≤\n            total: total,  // –û–±—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫ = price_for_driver\n            date: adjustedDate.toISOString(),  // –î–ª—è –≤—ã–≤–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–∞—Ç—É\n            original_date: date  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –¥–∞—Ç—É\n        };\n    });\n}\n\n// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ\nconst processedData = calculateTotals(inputData);\n\n// –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫—É–±–∏–∫–∞\nreturn processedData.map(entry => ({ json: entry }));\n"
      },
      "id": "573d5cb0-707b-4dbb-ae3d-b2e477ccf9f9",
      "name": "Code2",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        860,
        700
      ]
    },
    {
      "parameters": {
        "jsCode": "// –ü–æ–ª—É—á–∞–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ items\nconst inputData = items.map(item => item.json);\n\n// –ó–∞–¥–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è\nconst today = new Date(); //'2024-11-02T00:00:00'\ntoday.setMinutes(today.getMinutes() + today.getTimezoneOffset() + (5 * 60));\n\n// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞—á–∞–ª–æ —Ç–µ–∫—É—â–µ–π –Ω–µ–¥–µ–ª–∏ (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ —Ç–µ–∫—É—â–µ–π –Ω–µ–¥–µ–ª–∏)\nconst startOfWeek = new Date(today);\nstartOfWeek.setDate(today.getDate() - today.getDay() + (today.getDay() === 0 ? -6 : 1)); // –£—á–∏—Ç—ã–≤–∞–µ–º –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –∫–∞–∫ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω—É–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤ –¥–∞—Ç–µ\nfunction resetTime(date) {\n    const newDate = new Date(date);\n    newDate.setHours(0, 0, 0, 0); // –£–±–∏—Ä–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏\n    return newDate;\n}\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ –¥–Ω—è–º\nfunction getDailyReport(date) {\n    let totalCount = 0;      // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–π—Å–æ–≤\n    let totalQuarryHours = 0; // –ö–∞—Ä—å–µ—Ä–Ω—ã–µ —á–∞—Å—ã\n    let totalEarnings = 0;    // –û–±—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –∑–∞ –¥–µ–Ω—å\n\n    const resetDate = resetTime(date);\n\n    inputData.forEach(entry => {\n        const entryDate = resetTime(new Date(entry.date));\n\n        // –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º –¥–∞—Ç—ã –±–µ–∑ —É—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏\n        if (entryDate.toISOString().split('T')[0] === resetDate.toISOString().split('T')[0]) {\n            if (entry.total_count !== undefined && entry.total_earnings !== undefined) {\n                totalCount += entry.total_count;  // –°—É–º–º–∏—Ä—É–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–π—Å–æ–≤\n                totalEarnings += entry.total_earnings; // –°—É–º–º–∏—Ä—É–µ–º –∑–∞—Ä–∞–±–æ—Ç–æ–∫\n            } else if (entry.quarry_hours !== undefined && entry.total !== undefined) {\n                totalQuarryHours += entry.quarry_hours; // –°—É–º–º–∏—Ä—É–µ–º –∫–∞—Ä—å–µ—Ä–Ω—ã–µ —á–∞—Å—ã\n                totalEarnings += entry.total; // –°—É–º–º–∏—Ä—É–µ–º –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –∑–∞ —Ä–∞–±–æ—Ç—ã –≤ –∫–∞—Ä—å–µ—Ä–µ\n            }\n        }\n    });\n\n    return {\n        count: totalCount,\n        quarry_hours: totalQuarryHours,\n        total: totalEarnings\n    };\n}\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞ –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏\nfunction getCurrentWeekReport() {\n    let textMessage = 'üìä <b>–û—Ç—á–µ—Ç –∑–∞ —Ç–µ–∫—É—â—É—é –Ω–µ–¥–µ–ª—é</b>\\n\\n';\n\n    let currentDate = new Date(today);\n    while (currentDate >= startOfWeek) {\n        const dayReport = getDailyReport(currentDate);\n        const dayOfWeek = currentDate.toLocaleDateString('ru-RU', { weekday: 'long' });\n        const dateStr = currentDate.toLocaleDateString('ru-RU', { day: '2-digit', month: '2-digit' });\n\n        textMessage += `üìÖ <b>${dayOfWeek} (${dateStr}):</b>\\n`;\n        if (dayReport.count === 0 && dayReport.quarry_hours === 0) {\n            textMessage += '–ù–µ –±—ã–ª–æ –ø–µ—Ä–µ–≤–æ–∑–æ–∫\\n\\n';\n        } else {\n            textMessage += `üöö –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–π—Å–æ–≤: ${dayReport.count}\\n`;\n            textMessage += `üïë –ö–∞—Ä—å–µ—Ä–Ω—ã–µ —á–∞—Å—ã: ${dayReport.quarry_hours} —á\\n`;\n            textMessage += `üíµ –ó–∞—Ä–∞–±–æ—Ç–æ–∫: ${dayReport.total} —Ä—É–±.\\n\\n`;\n        }\n\n        // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –¥–Ω—é\n        currentDate.setDate(currentDate.getDate() - 1);\n    }\n\n    return textMessage;\n}\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞ –∑–∞ –º–µ—Å—è—Ü\nfunction getMonthlyReport(startDate, endDate) {\n    let totalCount = 0;\n    let totalQuarryHours = 0;\n    let totalEarnings = 0;\n\n    const start = resetTime(startDate);\n    const end = resetTime(endDate);\n\n    inputData.forEach(entry => {\n        const entryDate = resetTime(new Date(entry.date));\n\n        if (entryDate >= start && entryDate <= end) {\n            if (entry.total_count !== undefined && entry.total_earnings !== undefined) {\n                totalCount += entry.total_count;\n                totalEarnings += entry.total_earnings;\n            } else if (entry.quarry_hours !== undefined && entry.total !== undefined) {\n                totalQuarryHours += entry.quarry_hours;\n                totalEarnings += entry.total;\n            }\n        }\n    });\n\n    return {\n        count: totalCount,\n        quarry_hours: totalQuarryHours,\n        total: totalEarnings\n    };\n}\n\n// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞—á–∞–ª–æ –∏ –∫–æ–Ω–µ—Ü —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞\nconst startOfMonth = new Date(today.getFullYear(), today.getMonth(), 1);\nconst endOfMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0); // –ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å –º–µ—Å—è—Ü–∞\n\n// –ü–æ–ª—É—á–∞–µ–º –æ—Ç—á–µ—Ç –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü\nconst currentMonthReport = getMonthlyReport(startOfMonth, today);\n\n// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥ –æ—Ç—á–µ—Ç–∞ –∑–∞ –ø—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü\nlet previousMonthText = '';\nconst firstOfMonth = new Date(today.getFullYear(), today.getMonth(), 1);\nconst isInFirstTenDays = today >= firstOfMonth && today < new Date(today.getFullYear(), today.getMonth(), 11, 5, 0, 0);\n\n// –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –æ—Ç—á–µ—Ç –∑–∞ –ø—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü\nif (isInFirstTenDays) {\n    const startOfPreviousMonth = new Date(today.getFullYear(), today.getMonth() - 1, 1);\n    const endOfPreviousMonth = new Date(today.getFullYear(), today.getMonth(), 0); // –ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å –ø—Ä–æ—à–ª–æ–≥–æ –º–µ—Å—è—Ü–∞\n\n    const previousMonthReport = getMonthlyReport(startOfPreviousMonth, endOfPreviousMonth);\n\n    previousMonthText = `\nüìä <b>–û—Ç—á–µ—Ç –∑–∞ –ø—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü</b>\n\nüöö –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–π—Å–æ–≤: ${previousMonthReport.count}\nüïë –ö–∞—Ä—å–µ—Ä–Ω—ã–µ —á–∞—Å—ã: ${previousMonthReport.quarry_hours} —á\nüíµ –ó–∞—Ä–∞–±–æ—Ç–æ–∫: ${previousMonthReport.total} —Ä—É–±.\\n`;\n}\n\n// –§–æ—Ä–º–∏—Ä—É–µ–º –æ—Ç—á–µ—Ç –∑–∞ —Ç–µ–∫—É—â—É—é –Ω–µ–¥–µ–ª—é\nlet textMessage = getCurrentWeekReport();\n\n// –§–æ—Ä–º–∏—Ä—É–µ–º –æ—Ç—á–µ—Ç –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü\nlet currentMonthText = `üìä <b>–û—Ç—á–µ—Ç –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü</b>\n\nüöö –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–π—Å–æ–≤: ${currentMonthReport.count}\nüïë –ö–∞—Ä—å–µ—Ä–Ω—ã–µ —á–∞—Å—ã: ${currentMonthReport.quarry_hours} —á\nüíµ –ó–∞—Ä–∞–±–æ—Ç–æ–∫: ${currentMonthReport.total} —Ä—É–±.\\n`;\n\n// –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Å—è—á–Ω—ã–µ –æ—Ç—á–µ—Ç—ã\ntextMessage += currentMonthText;\n\n// –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç—á–µ—Ç –∑–∞ –ø—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü –≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ\nif (previousMonthText) {\n    textMessage += previousMonthText;\n}\n\n// –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON\nreturn [\n    {\n        json: {\n            message: textMessage\n        }\n    }\n];\n"
      },
      "id": "4d258409-0935-4663-a5da-94b69e884dde",
      "name": "Code6",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1280,
        500
      ]
    },
    {
      "parameters": {
        "chatId": "467549384",
        "text": "={{ $json.message }}",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "additionalFields": {}
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "id": "c46330e9-32f3-4f3d-b184-73571b83e354",
      "name": "Telegram8",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1460,
        500
      ],
      "credentials": {
        "telegramApi": {
          "id": "uEAhGHyixvUTbCGm",
          "name": "tg serg"
        }
      }
    },
    {
      "parameters": {},
      "id": "4ce4621a-66bd-4826-b28a-055a3e88b8d2",
      "name": "No Operation, do nothing",
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -360,
        540
      ]
    },
    {
      "parameters": {},
      "id": "ed8d8546-a96a-4f87-be11-ab98670359dd",
      "name": "Merge7",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [
        1140,
        500
      ]
    },
    {
      "parameters": {},
      "id": "709d406e-d75a-495b-92e5-fb0e5c63424a",
      "name": "Execute Workflow Trigger",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -1460,
        -3660
      ]
    },
    {
      "parameters": {
        "resource": "custom",
        "customResource": "=transportation.round",
        "operation": "getAll",
        "returnAll": true,
        "options": {
          "fieldsList": [
            "id",
            "time_of_start",
            "driver_rate",
            "driver_with_trailer"
          ]
        },
        "filterRequest": {
          "filter": [
            {
              "fieldName": "driver",
              "value": "={{ $json.odoo_id }}"
            },
            {
              "fieldName": "status",
              "value": "–ó–∞–≤–µ—Ä—à–µ–Ω"
            }
          ]
        }
      },
      "id": "acfc515a-9528-4301-9c73-98e928929a87",
      "name": "–ü–æ–ª—É—á–∞–µ–º —Ä–µ–π—Å—ã1",
      "type": "n8n-nodes-base.odoo",
      "typeVersion": 1,
      "position": [
        -100,
        1060
      ],
      "alwaysOutputData": false,
      "credentials": {
        "odooApi": {
          "id": "ITgOrhO4Hf2QcDtf",
          "name": "odoo dev"
        }
      }
    },
    {
      "parameters": {
        "resource": "custom",
        "customResource": "=quarry.work",
        "operation": "getAll",
        "returnAll": true,
        "options": {
          "fieldsList": [
            "id",
            "quarry_hours",
            "price_for_driver",
            "create_date",
            "start_time"
          ]
        },
        "filterRequest": {
          "filter": [
            {
              "fieldName": "driver",
              "value": "={{ $json.odoo_id }}"
            },
            {
              "fieldName": "status",
              "value": "–ó–∞–≤–µ—Ä—à–µ–Ω—ã"
            }
          ]
        }
      },
      "id": "e375f9f4-ad14-4b7f-822c-b5a1afacd128",
      "name": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç –≤ –∫–∞—Ä—å–µ—Ä–µ",
      "type": "n8n-nodes-base.odoo",
      "typeVersion": 1,
      "position": [
        -80,
        1320
      ],
      "alwaysOutputData": false,
      "credentials": {
        "odooApi": {
          "id": "ITgOrhO4Hf2QcDtf",
          "name": "odoo dev"
        }
      }
    },
    {
      "parameters": {
        "aggregate": "aggregateAllItemData",
        "options": {}
      },
      "id": "0ed44513-794a-46df-ab48-f0231bb371a6",
      "name": "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–µ–π—Å–æ–≤ –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª1",
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        160,
        1060
      ],
      "alwaysOutputData": true
    },
    {
      "parameters": {},
      "id": "299674e2-209a-4d8e-9437-fe31d4402a0f",
      "name": "No Operation, do nothing1",
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -440,
        1320
      ]
    },
    {
      "parameters": {
        "resource": "custom",
        "customResource": "=salary.salary",
        "operation": "getAll",
        "returnAll": true,
        "options": {},
        "filterRequest": {
          "filter": [
            {
              "fieldName": "driver",
              "value": "={{ $json.odoo_id }}"
            }
          ]
        }
      },
      "id": "3e81eb6d-3be1-4114-94a9-0d50f1c53372",
      "name": "–ø–æ–ª—É—á–∞–µ–º –∏–∑ –º–æ–¥—É–ª—è –∑–∞—Ä–ø–ª–∞—Ç–∞ –≤–æ–¥–∏—Ç–µ–ª—è",
      "type": "n8n-nodes-base.odoo",
      "typeVersion": 1,
      "position": [
        -100,
        1580
      ],
      "alwaysOutputData": false,
      "credentials": {
        "odooApi": {
          "id": "ITgOrhO4Hf2QcDtf",
          "name": "odoo dev"
        }
      }
    },
    {
      "parameters": {
        "resource": "custom",
        "customResource": "=salary.image",
        "operation": "getAll",
        "returnAll": true,
        "options": {
          "fieldsList": [
            "date_start",
            "date_end",
            "required_bonus_amount",
            "required_fine_amount",
            "required_comment"
          ]
        },
        "filterRequest": {
          "filter": [
            {
              "fieldName": "id",
              "value": "={{ $json.salary_constructor_bonus }}"
            }
          ]
        }
      },
      "id": "40352a2f-80bb-4685-9438-0d74dcbd84ca",
      "name": "–ø–æ–ª—É—á–∞–µ–º –∑–∞–ø–∏—Å–∏ –æ –ø—Ä–µ–º–∏—è—Ö/—à—Ç—Ä–∞—Ñ–∞—Ö",
      "type": "n8n-nodes-base.odoo",
      "typeVersion": 1,
      "position": [
        160,
        1580
      ],
      "alwaysOutputData": false,
      "credentials": {
        "odooApi": {
          "id": "ITgOrhO4Hf2QcDtf",
          "name": "odoo dev"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –Ω–æ–¥—ã\nconst items = $input.all();\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Å—è—Ü–∞ –∏–∑ –¥–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ \"YYYY-MM\"\nconst getMonth = (date) => {\n  const d = new Date(date);\n  const year = d.getFullYear();\n  const month = ('0' + (d.getMonth() + 1)).slice(-2); // –î–æ–±–∞–≤–ª—è–µ–º –≤–µ–¥—É—â–∏–π –Ω–æ–ª—å –∫ –º–µ—Å—è—Ü—É, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ\n  return `${year}-${month}`;\n};\n\n// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—É—é –∑–∞–ø–∏—Å—å\nconst result = items.map(item => {\n  const data = item.json;\n\n  // –ü–æ–ª—É—á–∞–µ–º –º–µ—Å—è—Ü –∏–∑ date_start (–¥–∞—Ç–∞ —Å—Ç–∞—Ä—Ç–∞)\n  const month = getMonth(data.date_start);\n\n  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ\n  return {\n    id: data.id,\n    date: month, // –ú–µ—Å—è—Ü, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –¥–∞—Ç–µ —Å—Ç–∞—Ä—Ç–∞\n    required_bonus_amount: data.required_bonus_amount,\n    required_fine_amount: data.required_fine_amount,\n    required_comment: data.required_comment\n  };\n});\n\nreturn result;\n"
      },
      "id": "7a61d6bd-0a88-439d-a7a6-c7a832e52772",
      "name": "–ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –ø—Ä–µ–º–∏–∏/—à—Ç—Ä–∞—Ñ—ã",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        380,
        1580
      ]
    },
    {
      "parameters": {
        "jsCode": "// –ü–æ–ª—É—á–∞–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫—É–±–∏–∫–∞\nconst inputData = items.map(item => item.json);\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è 10 —á–∞—Å–æ–≤ –∫–æ –≤—Ä–µ–º–µ–Ω–∏\nfunction addHoursToTime(timeStr, hours) {\n    const dateObj = new Date(timeStr.replace(\" \", \"T\")); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Å—Ç—Ä–æ–∫—É –≤—Ä–µ–º–µ–Ω–∏ –≤ –æ–±—ä–µ–∫—Ç Date\n    dateObj.setHours(dateObj.getHours() + hours); // –î–æ–±–∞–≤–ª—è–µ–º 10 —á–∞—Å–æ–≤\n    return dateObj.toISOString().replace(\"T\", \" \").split(\".\")[0]; // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ–±—Ä–∞—Ç–Ω–æ –≤ —Å—Ç—Ä–æ–∫—É –∏ —É–±–∏—Ä–∞–µ–º –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã\n}\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–π—Å–æ–≤ –ø–æ –¥–∞—Ç–∞–º\nfunction calculateTotalsByDate(data) {\n    const totalsByDate = {};\n\n    data.forEach(entry => {\n        entry.data.forEach(round => {\n            const { driver_rate, driver_with_trailer, time_of_start } = round;\n\n            // –î–æ–±–∞–≤–ª—è–µ–º 10 —á–∞—Å–æ–≤ –∫–æ –≤—Ä–µ–º–µ–Ω–∏\n            const adjustedTime = addHoursToTime(time_of_start, 5);\n\n            // –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–æ–ª—å–∫–æ –¥–∞—Ç—É –∏–∑ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏\n            const date = adjustedTime.split(\" \")[0];\n\n            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π –¥–∞—Ç—ã\n            if (!totalsByDate[date]) {\n                totalsByDate[date] = {\n                    total_count: 0,  // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–π—Å–æ–≤\n                    total_earnings: 0  // –û–±—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫\n                };\n            }\n\n            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–π—Å–æ–≤\n            totalsByDate[date].total_count++;\n\n            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—É–º–º—É –∑–∞—Ä–∞–±–æ—Ç–∫–∞\n            totalsByDate[date].total_earnings += driver_rate;\n        });\n    });\n\n    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ–±—ä–µ–∫—Ç –≤ –º–∞—Å—Å–∏–≤ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏\n    return Object.keys(totalsByDate).map(date => ({\n        date: date,\n        total_count: totalsByDate[date].total_count,\n        total_earnings: totalsByDate[date].total_earnings\n    }));\n}\n\n// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ\nconst processedData = calculateTotalsByDate(inputData);\n\n// –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫—É–±–∏–∫–∞\nreturn processedData.map(entry => ({ json: entry }));\n"
      },
      "id": "8c3130a3-f520-4323-8ee2-9d269bec55ed",
      "name": "–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ–π—Å—ã",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        460,
        1060
      ]
    },
    {
      "parameters": {
        "jsCode": "// –ü–æ–ª—É—á–∞–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫—É–±–∏–∫–∞\nconst inputData = items.map(item => item.json);\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö\nfunction calculateTotals(data) {\n    return data.map(entry => {\n        const { id, quarry_hours, price_for_driver, date, start_time } = entry;\n\n        // –ï—Å–ª–∏ price_for_driver —Ä–∞–≤–µ–Ω 0 –∏–ª–∏ false, –∑–∞—Ä–∞–±–æ—Ç–æ–∫ —Ä–∞–≤–µ–Ω 0\n        if (!price_for_driver) {\n            // –î–æ–±–∞–≤–ª—è–µ–º 10 —á–∞—Å–æ–≤ –∫ –¥–∞—Ç–µ\n            const adjustedDate = new Date(start_time);\n            adjustedDate.setHours(adjustedDate.getHours() + 5); // –ü—Ä–∏–±–∞–≤–ª—è–µ–º 10 —á–∞—Å–æ–≤\n\n            return {\n                id: id,\n                quarry_hours: quarry_hours,  // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—å–µ—Ä–Ω—ã—Ö —á–∞—Å–æ–≤\n                total: 0,  // –ó–∞—Ä–∞–±–æ—Ç–æ–∫ = 0\n                date: adjustedDate.toISOString(),  // –î–ª—è –≤—ã–≤–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–∞—Ç—É\n                original_date: date  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –¥–∞—Ç—É\n            };\n        }\n\n        // –¶–µ–Ω–∞ –≤–æ–¥–∏—Ç–µ–ª—è —É–∂–µ –∏—Ç–æ–≥–æ–≤–∞—è, –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞–µ–º –µ—ë –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n        const total = parseFloat(price_for_driver);\n\n        // –î–æ–±–∞–≤–ª—è–µ–º 10 —á–∞—Å–æ–≤ –∫ –¥–∞—Ç–µ\n        const adjustedDate = new Date(start_time);\n        adjustedDate.setHours(adjustedDate.getHours() + 5); // –ü—Ä–∏–±–∞–≤–ª—è–µ–º 10 —á–∞—Å–æ–≤\n\n        return {\n            id: id,\n            quarry_hours: quarry_hours,  // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—å–µ—Ä–Ω—ã—Ö —á–∞—Å–æ–≤\n            total: total,  // –û–±—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫ = price_for_driver\n            date: adjustedDate.toISOString(),  // –î–ª—è –≤—ã–≤–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–∞—Ç—É\n            original_date: date  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –¥–∞—Ç—É\n        };\n    });\n}\n\n// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ\nconst processedData = calculateTotals(inputData);\n\n// –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫—É–±–∏–∫–∞\nreturn processedData.map(entry => ({ json: entry }));\n"
      },
      "id": "642e6667-0059-4153-a9ab-ae50a1e11311",
      "name": "–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–∞–±–æ—Ç—ã",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        280,
        1320
      ]
    },
    {
      "parameters": {},
      "id": "7645477b-7f28-4939-95a6-cca710acbd42",
      "name": "—Ä–µ–π—Å—ã+—Ä–∞–±–æ—Ç—ã",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [
        920,
        1100
      ]
    },
    {
      "parameters": {},
      "id": "c5d06c47-172d-486d-9693-a5cffb6dbc5b",
      "name": "–¥–æ–±–∞–≤–ª—è–µ–º –µ—â–µ –ø—Ä–µ–º–∏–∏/—à—Ç—Ä–∞—Ñ—ã",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [
        1180,
        1180
      ]
    },
    {
      "parameters": {
        "jsCode": "// –ü–æ–ª—É—á–∞–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ items\nconst inputData = items.map(item => item.json);\n\n// –ó–∞–¥–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É —Å —É—á–µ—Ç–æ–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫–∞\nconst today = new Date('2024-10-07T00:00:00');//'2024-10-07T00:00:00'\ntoday.setMinutes(today.getMinutes() + today.getTimezoneOffset() + (5 * 60)); // UTC +10 –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω—É–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤ –¥–∞—Ç–µ\nfunction resetTime(date) {\n    const newDate = new Date(date);\n    newDate.setHours(0, 0, 0, 0); // –£–±–∏—Ä–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏\n    return newDate;\n}\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ –¥–Ω—è–º\nfunction getDailyReport(date) {\n    let totalCount = 0;      // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–π—Å–æ–≤\n    let totalQuarryHours = 0; // –ö–∞—Ä—å–µ—Ä–Ω—ã–µ —á–∞—Å—ã\n    let totalEarnings = 0;    // –û–±—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –∑–∞ –¥–µ–Ω—å\n\n    const resetDate = resetTime(date);\n\n    inputData.forEach(entry => {\n        const entryDate = resetTime(new Date(entry.date));\n\n        // –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º –¥–∞—Ç—ã –±–µ–∑ —É—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏\n        if (entryDate.toISOString().split('T')[0] === resetDate.toISOString().split('T')[0]) {\n            if (entry.total_count !== undefined && entry.total_earnings !== undefined) {\n                totalCount += entry.total_count;  // –°—É–º–º–∏—Ä—É–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–π—Å–æ–≤\n                totalEarnings += entry.total_earnings; // –°—É–º–º–∏—Ä—É–µ–º –∑–∞—Ä–∞–±–æ—Ç–æ–∫\n            } else if (entry.quarry_hours !== undefined && entry.total !== undefined) {\n                totalQuarryHours += entry.quarry_hours; // –°—É–º–º–∏—Ä—É–µ–º –∫–∞—Ä—å–µ—Ä–Ω—ã–µ —á–∞—Å—ã\n                totalEarnings += entry.total; // –°—É–º–º–∏—Ä—É–µ–º –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –∑–∞ —Ä–∞–±–æ—Ç—ã –≤ –∫–∞—Ä—å–µ—Ä–µ\n            }\n        }\n    });\n    return {\n        count: totalCount,\n        quarry_hours: totalQuarryHours,\n        total: totalEarnings\n    };\n}\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞ –∑–∞ –Ω–µ–¥–µ–ª—é\nfunction getWeeklyReport(startDate, endDate) {\n    let totalCount = 0;\n    let totalQuarryHours = 0;\n    let totalEarnings = 0;\n\n    const start = resetTime(startDate);\n    const end = resetTime(endDate);\n\n    inputData.forEach(entry => {\n        const entryDate = resetTime(new Date(entry.date));\n\n        if (entryDate >= start && entryDate <= end) {\n            if (entry.total_count !== undefined && entry.total_earnings !== undefined) {\n                totalCount += entry.total_count;\n                totalEarnings += entry.total_earnings;\n            } else if (entry.quarry_hours !== undefined && entry.total !== undefined) {\n                totalQuarryHours += entry.quarry_hours;\n                totalEarnings += entry.total;\n            }\n        }\n    });\n    return {\n        count: totalCount,\n        quarry_hours: totalQuarryHours,\n        total: totalEarnings\n    };\n}\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ä–µ–∑–æ–≤ –Ω–µ–¥–µ–ª–∏, –≥–¥–µ —Å—Ä–µ–∑—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ–º\nfunction getWeeklySlices(startDate, endDate) {\n    let currentWeekStart = new Date(startDate);\n    let weeklyReports = [];\n    let totalWeeklyEarnings = 0;\n\n    while (currentWeekStart <= endDate) {\n        let currentWeekEnd = new Date(currentWeekStart);\n\n        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (0 - –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 6 - —Å—É–±–±–æ—Ç–∞)\n        const dayOfWeek = currentWeekStart.getDay();\n\n        // –ï—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤—ã–π –¥–µ–Ω—å, –∏ –æ–Ω –Ω–µ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, –¥–µ–ª–∞–µ–º —Å—Ä–µ–∑ —Ç–æ–ª—å–∫–æ –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å\n        if (dayOfWeek === 0) {\n            currentWeekEnd = new Date(currentWeekStart); // –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, —Å—Ä–µ–∑ –∑–∞ 1 –¥–µ–Ω—å\n        } else {\n            currentWeekEnd.setDate(currentWeekStart.getDate() + (7 - dayOfWeek)); // –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ–º —Å—Ä–µ–∑ –≤ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ\n        }\n\n        if (currentWeekEnd > endDate) {\n            currentWeekEnd = new Date(endDate); // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–Ω–µ—Ü –Ω–µ–¥–µ–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–º –¥–Ω–µ–º\n        }\n\n        const report = getWeeklyReport(currentWeekStart, currentWeekEnd);\n        totalWeeklyEarnings += report.total;\n\n        // –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –Ω–µ–¥–µ–ª–∏ —Å –≤–µ–¥—É—â–∏–º–∏ –Ω—É–ª—è–º–∏ –¥–ª—è –¥–Ω—è –∏ –º–µ—Å—è—Ü–∞\n        let weekText = `üìÖ <b>–ù–µ–¥–µ–ª—è —Å ${String(currentWeekStart.getDate()).padStart(2, '0')}.${String(currentWeekStart.getMonth() + 1).padStart(2, '0')} –ø–æ ${String(currentWeekEnd.getDate()).padStart(2, '0')}.${String(currentWeekEnd.getMonth() + 1).padStart(2, '0')}:</b>\\n`;\n        weekText += `üöö –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–π—Å–æ–≤: ${report.count}\\n`;\n        weekText += `üïë –ö–∞—Ä—å–µ—Ä–Ω—ã–µ —á–∞—Å—ã: ${report.quarry_hours} —á\\n`;\n        weekText += `üíµ –ó–∞—Ä–∞–±–æ—Ç–æ–∫: ${report.total} —Ä—É–±.\\n\\n`;\n\n        weeklyReports.push(weekText);\n        currentWeekStart.setDate(currentWeekEnd.getDate() + 1); // –ù–∞—á–∏–Ω–∞–µ–º —Å–ª–µ–¥—É—é—â—É—é –Ω–µ–¥–µ–ª—é\n    }\n\n    return {\n        weeklyText: weeklyReports.reverse().join(''),\n        totalWeeklyEarnings: totalWeeklyEarnings\n    };\n}\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞ –∑–∞ –ø—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü\nfunction getPreviousMonthReport() {\n    const previousMonth = new Date(today.getFullYear(), today.getMonth() - 1, 1);\n    const endOfPreviousMonth = new Date(today.getFullYear(), today.getMonth(), 0); // –ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞\n    return getWeeklySlices(previousMonth, endOfPreviousMonth);\n}\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞ –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü –¥–æ —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è\nfunction getCurrentMonthReport() {\n    const startOfMonth = new Date(today.getFullYear(), today.getMonth(), 1);\n    return getWeeklySlices(startOfMonth, today);\n}\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –±–æ–Ω—É—Å–æ–≤, —à—Ç—Ä–∞—Ñ–æ–≤ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤\nfunction getMonthlyBonusesAndFines(month) {\n    let bonusAmount = 0;\n    let fineAmount = 0;\n    let comments = [];\n\n    inputData.forEach(entry => {\n        const entryMonth = entry.date;\n\n        if (entryMonth === month) {\n            if (entry.required_bonus_amount && entry.required_bonus_amount !== 0) {\n                bonusAmount += entry.required_bonus_amount;\n            }\n\n            if (entry.required_fine_amount && entry.required_fine_amount !== 0) {\n                fineAmount += entry.required_fine_amount;\n            }\n\n            if (entry.required_comment && entry.required_comment !== false) {\n                comments.push(entry.required_comment);\n            }\n        }\n    });\n\n    return {\n        bonus: bonusAmount,\n        fine: fineAmount,\n        comments: comments\n    };\n}\n\n// –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –æ—Ç—á–µ—Ç–∞\nlet textMessage = '';\nlet totalEarnings = 0;\n\nconst dayOfMonth = today.getDate();\nconst hourOfDay = today.getHours();\n\nconst currentMonth = `${today.getFullYear()}-${('0' + (today.getMonth() + 1)).slice(-2)}`;\n\n// –ï—Å–ª–∏ –¥–µ–Ω—å –º–µ—Å—è—Ü–∞ —Å 1 –ø–æ 11 –∏ –≤—Ä–µ–º—è –¥–æ 5:00 –ø–æ –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫—É, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü\nif (dayOfMonth < 11 || (dayOfMonth === 11 && hourOfDay < 5)) {\n    textMessage += 'üìä <b>–û—Ç—á–µ—Ç –∑–∞ –ø—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü</b>\\n\\n';\n    const report = getPreviousMonthReport();\n    textMessage += report.weeklyText;\n\n    const previousMonth = `${today.getFullYear()}-${('0' + today.getMonth()).slice(-2)}`;\n    const bonusesAndFines = getMonthlyBonusesAndFines(previousMonth);\n\n    if (bonusesAndFines.bonus > 0) {\n        textMessage += `üí∞ –ü—Ä–µ–º–∏—è: ${bonusesAndFines.bonus} —Ä—É–±.\\n`;\n    }\n    if (bonusesAndFines.fine > 0) {\n        textMessage += `‚ö†Ô∏è –®—Ç—Ä–∞—Ñ: ${bonusesAndFines.fine} —Ä—É–±.\\n`;\n    }\n    if (bonusesAndFines.comments.length > 0) {\n        textMessage += `üìù –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏: ${bonusesAndFines.comments.join(', ')}\\n`;\n    }\n\n    totalEarnings = report.totalWeeklyEarnings + bonusesAndFines.bonus - bonusesAndFines.fine;\n} else {\n    textMessage += 'üìä <b>–û—Ç—á–µ—Ç –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü</b>\\n\\n';\n    const report = getCurrentMonthReport();\n    textMessage += report.weeklyText;\n\n    const bonusesAndFines = getMonthlyBonusesAndFines(currentMonth);\n\n    if (bonusesAndFines.bonus > 0) {\n        textMessage += `üí∞ –ü—Ä–µ–º–∏—è: ${bonusesAndFines.bonus} —Ä—É–±.\\n`;\n    }\n    if (bonusesAndFines.fine > 0) {\n        textMessage += `‚ö†Ô∏è –®—Ç—Ä–∞—Ñ: ${bonusesAndFines.fine} —Ä—É–±.\\n`;\n    }\n    if (bonusesAndFines.comments.length > 0) {\n        textMessage += `üìù –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏: ${bonusesAndFines.comments.join(', ')}\\n`;\n    }\n\n    totalEarnings = report.totalWeeklyEarnings + bonusesAndFines.bonus - bonusesAndFines.fine;\n}\n\nconst finalTotal = totalEarnings;\ntextMessage += `\\nüíµ <b>–°—É–º–º–∞ –∏—Ç–æ–≥–æ: ${finalTotal} —Ä—É–±.</b>`;\n\nreturn [\n    {\n        json: {\n            message: textMessage\n        }\n    }\n];"
      },
      "id": "0aef9d4f-d900-40af-9d71-3f67b9e45a82",
      "name": "—Ñ–æ—Ä–º–∏—Ä—É–µ–º –º–µ—Å—è—á–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1460,
        1180
      ]
    },
    {
      "parameters": {
        "chatId": "467549384",
        "text": "={{ $json.message }}",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "id": "7f804cbe-c39d-4fb3-85a6-423ab45d846d",
      "name": "–≤—ã–≤–æ–¥–∏–º –º–µ—Å—è—á–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1720,
        1180
      ],
      "credentials": {
        "telegramApi": {
          "id": "uEAhGHyixvUTbCGm",
          "name": "tg serg"
        }
      }
    },
    {
      "parameters": {
        "url": "https://dev.everest.lamart.site/get_all_maintenances",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "cookie",
              "value": "session_id=b9c645092bc728c977a98c4be377c7c2ac0a2e9e; Expires=Mon, 03 Nov 2025 14:04:36 GMT; Max-Age=604800; HttpOnly; Path=/"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {}
          ]
        },
        "options": {}
      },
      "id": "2c9753fb-3683-40e0-8643-feed1253fd3e",
      "name": "–Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        -620,
        -1420
      ],
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "030d374e-9358-4f14-a3f8-447482e95d7a",
              "leftValue": "={{ $json.status }}",
              "rightValue": "–ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "6b881a1e-5238-44a1-b121-7cccce2ef8a4",
      "name": "–ø–æ–ª—É—á–∏–º –≤—Å–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏3",
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        -340,
        -1460
      ],
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2a5d035d-235a-47f4-87f1-88ba998b6fe4",
              "leftValue": "={{ $('–ø–æ–ª—É—á–∏–º –≤—Å–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏3').item.json }}",
              "rightValue": "",
              "operator": {
                "type": "object",
                "operation": "notEmpty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "5acb2434-8780-4159-bf39-5b92821598c4",
      "name": "–ï—Å—Ç—å –ª–∏ –∑–∞—è–≤–∫–∏ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -100,
        -1400
      ]
    },
    {
      "parameters": {
        "jsCode": "// –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö\nconst items = $input.all();\n\n// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ\nconst maxItemsPerPage = 6;\n\n// –ó–∞–¥–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –∑–∞—è–≤–∫–∏\nconst maxDescriptionLength = 16;\n\n// –ü–æ–ª—É—á–∞–µ–º –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–∑ callback_data –∏–ª–∏ –æ—Å—Ç–∞–≤–ª—è–µ–º 1 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\nlet page = 1; // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞\nlet messageId; // –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è message_id\n\n// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ callback_query\nconst callbackQuery = $('Execute Workflow Trigger').all()[0].json.callback_query;\nif (callbackQuery) {\n    const callbackData = callbackQuery.data;\n    const match = callbackData.match(/page_(\\d+)/);\n    if (match) {\n        page = parseInt(match[1], 10);\n    }\n    // –ü–æ–ª—É—á–∞–µ–º message_id –∏–∑ callback_query\n    messageId = callbackQuery.message.message_id; // –ü–æ–ª—É—á–∞–µ–º message_id –∏–∑ –æ–±—ä–µ–∫—Ç–∞ callback_query\n} else {\n    // –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ callback_query, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é\n    messageId = $('Execute Workflow Trigger').all()[0].json.message.message_id; // –ü–æ–ª—É—á–∞–µ–º message_id –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è\n}\n\n// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π –∏ –∫–æ–Ω–µ—á–Ω—ã–π –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ\nconst startIndex = (page - 1) * maxItemsPerPage;\nconst endIndex = startIndex + maxItemsPerPage;\n\n// –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫–∞–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –±—É–¥–µ–º –≤—ã–≤–æ–¥–∏—Ç—å –Ω–∞ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ\nconst displayItems = items.slice(startIndex, endIndex);\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–µ–∑–∫–∏ –æ–ø–∏—Å–∞–Ω–∏—è —Å —Ç—Ä–æ–µ—Ç–æ—á–∏–µ–º\nconst truncateDescription = (description) => {\n    if (description.length > maxDescriptionLength) {\n        return description.slice(0, maxDescriptionLength) + '‚Ä¶';\n    }\n    return description;\n};\n\n// –§–æ—Ä–º–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤ –∫–Ω–æ–ø–æ–∫ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É\nconst buttons = displayItems.map((item, index) => {\n    // –†–∞–∑–¥–µ–ª—è–µ–º —Å—Ç—Ä–æ–∫—É –ø–æ –¥–µ—Ñ–∏—Å—É –∏ –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω–æ–º–µ—Ä –∞–≤—Ç–æ (–ø–µ—Ä–≤–∞—è —á–∞—Å—Ç—å)\n    const carInfo = item.json.car_id[1].split(' - ')[0];\n    // –û–±—Ä–µ–∑–∞–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏, –µ—Å–ª–∏ –æ–Ω–æ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ\n    const truncatedDescription = truncateDescription(item.json.description_of_maintenance);\n    \n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∑–∞—è–≤–∫–∞ —Å—Ä–æ—á–Ω–æ–π\n    const isUrgent = item.json.urgently === true ? '‚ùó' : '';\n\n    return {\n        text: `${isUrgent}${startIndex + index + 1}. ${carInfo} - ${truncatedDescription}`, // –ò—Å–ø–æ–ª—å–∑—É–µ–º startIndex –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω—É–º–µ—Ä–∞—Ü–∏–∏ –∏ –¥–æ–±–∞–≤–ª—è–µ–º ‚ùó\n        callback_data: `all_item_${item.json.id}_page_${page}` // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã\n    };\n});\n\n// –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —Å inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π\nconst inlineKeyboard = {\n    inline_keyboard: [\n        ...buttons.map(button => [button]), // –ö–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞ —Å–≤–æ–µ–π —Å—Ç—Ä–æ–∫–µ\n    ]\n};\n\n// –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ \"–°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞\" –∏ \"–ù–∞–∑–∞–¥\", –µ—Å–ª–∏ –Ω—É–∂–Ω–æ\nif (items.length > endIndex) {\n    inlineKeyboard.inline_keyboard.push([{ text: \"–°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞\", callback_data: `all_page_${page + 1}` }]);\n}\nif (page > 1) {\n    inlineKeyboard.inline_keyboard.push([{ text: \"–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞\", callback_data: `all_page_${page - 1}` }]);\n}\n\n// –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å—Ç–æ—è–Ω–Ω—É—é –∫–Ω–æ–ø–∫—É \"–ù–∞–∑–∞–¥\"\ninlineKeyboard.inline_keyboard.push([{ text: \"–ù–∞–∑–∞–¥\", callback_data: \"del_maintenances\" }]);\n\n// –õ–æ–≥–∏—Ä—É–µ–º –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏\nconsole.log(JSON.stringify(inlineKeyboard, null, 2));\n\n// –ü–æ–ª—É—á–∞–µ–º chat_id –∏–∑ –≤—Ö–æ–¥–Ω–æ–≥–æ JSON\nconst chatId = $('Execute Workflow Trigger').all()[0].json.message.from.id;\n\n// –¢–æ–∫–µ–Ω –±–æ—Ç–∞\nconst token = '7063451965:AAGARL6Eluwh3zgS84WnaZozqdz6-m0RLzg';\n\n// URL –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ API Telegram\nconst url = `https://api.telegram.org/bot${token}/sendMessage`;\n\n// –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏\nconst message = {\n    chat_id: chatId,\n    text: \"–ó–∞—è–≤–∫–∏, –æ–∂–∏–¥–∞—é—â–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:\",\n    reply_markup: inlineKeyboard\n};\n\n// –í–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞\nreturn [\n    {\n        json: {\n            url,\n            message\n        }\n    }\n];\n\n// –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –∑–∞—è–≤–∫–∏\nconst selectedCallbackData = callbackQuery.data;\nconst selectedMatch = selectedCallbackData.match(/item_(\\d+)_page_(\\d+)/);\nif (selectedMatch) {\n    const itemId = selectedMatch[1]; // ID –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∑–∞—è–≤–∫–∏\n    const returnPage = parseInt(selectedMatch[2], 10); // –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞\n\n    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∑–∞—è–≤–∫–∏\n    // –ù–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞—è–≤–∫–µ –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥—Ä—É–≥—É—é –ª–æ–≥–∏–∫—É\n\n    // –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å –∑–∞—è–≤–∫–∞–º–∏\n    const returnMessage = {\n        chat_id: chatId,\n        message_id: messageId,\n        text: \"–ó–∞—è–≤–∫–∏, –æ–∂–∏–¥–∞—é—â–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:\",\n        reply_markup: inlineKeyboard // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ—Ç –∂–µ inlineKeyboard —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π\n    };\n\n    return [\n        {\n            json: {\n                url,\n                message: returnMessage\n            }\n        }\n    ];\n}\n"
      },
      "id": "ed2c735e-b5fa-46cf-ba14-762b42e24081",
      "name": "–≤—ã–±–æ—Ä –∑–∞—è–≤–∫–∏(–ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)1",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        780,
        -1580
      ]
    },
    {
      "parameters": {
        "chatId": "={{ $('Execute Workflow Trigger').item.json.message.chat.id }}",
        "text": "–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–µ—Ç –∑–∞—è–≤–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å!",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "–ù–∞–∑–∞–¥",
                    "additionalFields": {
                      "callback_data": "del_maintenances"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "id": "8ba83ed6-1584-45c6-ac3e-0292ec9e8767",
      "name": "–Ω–µ—Ç –∑–∞—è–≤–æ–∫ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        460,
        -1320
      ],
      "credentials": {
        "telegramApi": {
          "id": "rJQteGH5Ng1RKmF4",
          "name": "tg dev aleksey"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.url }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ $json.message }}",
        "options": {}
      },
      "id": "074b6791-c6fb-4ee0-ab44-3f39607dfa35",
      "name": "–æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ 9",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        1180,
        -1580
      ]
    },
    {
      "parameters": {
        "sortFieldsUi": {
          "sortField": [
            {
              "fieldName": "urgently",
              "order": "descending"
            },
            {
              "fieldName": "date"
            }
          ]
        },
        "options": {}
      },
      "id": "c41721c3-bbd2-444d-9923-80953ab58615",
      "name": "Sort",
      "type": "n8n-nodes-base.sort",
      "typeVersion": 1,
      "position": [
        280,
        -1580
      ]
    },
    {
      "parameters": {
        "operation": "sendLocation",
        "chatId": "={{ $('Execute Workflow Trigger').item.json.message.chat.id }}",
        "latitude": "={{ $json.latitude }}",
        "longitude": "={{ $json.longitude }}",
        "additionalFields": {}
      },
      "id": "a86cbaf5-448f-4da9-8606-452372c1d9db",
      "name": "Telegram",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -960,
        120
      ],
      "credentials": {
        "telegramApi": {
          "id": "rJQteGH5Ng1RKmF4",
          "name": "tg dev aleksey"
        }
      }
    },
    {
      "parameters": {
        "url": "https://dev.everest.lamart.site/get_coordinates_by_transportation",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "cookie",
              "value": "session_id=c3e4a62a1a8d37aac55955740fe40fb4fbfdb108; Expires=Tue, 11 Nov 2025 06:56:02 GMT; Max-Age=604800; HttpOnly; Path=/"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"transportation_id\": 1164\n}",
        "options": {}
      },
      "id": "593e4a9a-e2f7-44c5-a56d-678bd1b02046",
      "name": "–Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        -1420,
        80
      ],
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "a0512750-cabb-473b-a650-4e13eb2f16bb",
              "leftValue": "={{ $json.id }}",
              "rightValue": 0,
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "2ff7d352-d764-49d1-b9b4-2ec4fdda7731",
      "name": "–µ—Å—Ç—å –ª–∏ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏1",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        -269,
        -680
      ]
    },
    {
      "parameters": {
        "operation": "formatDate",
        "date": "={{ $json.create_date }}",
        "format": "custom",
        "customFormat": "dd.MM.yyyy HH:mm",
        "options": {
          "timezone": true
        }
      },
      "id": "52bd4b0f-705a-43c1-885b-a4f7ddbe0c99",
      "name": "—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≤—Ä–µ–º—è –≤ —É–¥–æ–±–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç1",
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        11,
        -880
      ]
    },
    {
      "parameters": {
        "mode": "combine",
        "combinationMode": "mergeByPosition",
        "options": {}
      },
      "id": "cffc0d31-6936-4d98-863f-fe1b16134b65",
      "name": "–æ–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Ä–µ–º—è –∏ —Ç–µ–∫—Å—Ç1",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 2.1,
      "position": [
        251,
        -780
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "988c91e8-36b4-4f3f-9131-b8cf97b1dd63",
              "name": "=date_description",
              "value": "={{ $('–æ–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Ä–µ–º—è –∏ —Ç–µ–∫—Å—Ç1').item.json[\"formattedDate\"] }} - <b>{{ $('–æ–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Ä–µ–º—è –∏ —Ç–µ–∫—Å—Ç1').item.json[\"description_of_maintenance\"] }}</b>",
              "type": "string"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "id": "649bc31e-063b-41ad-8b3f-cd4d8aac15ce",
      "name": "–î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–≥–∏",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [
        476,
        -780
      ]
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.status }}",
                    "rightValue": "–ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "84c7a41e-05e5-4497-b42a-1e5102906729",
                    "leftValue": "={{ $json.status }}",
                    "rightValue": "–í —Ä–∞–±–æ—Ç–µ",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "dea7aa17-5f44-45d5-a497-9cea75e85820",
                    "leftValue": "={{ $json.status }}",
                    "rightValue": "–¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {
          "fallbackOutput": "none"
        }
      },
      "id": "3d926966-6747-4381-be4d-e65694ee4efb",
      "name": "–†–∞–∑–¥–µ–ª—è–µ–º –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3,
      "position": [
        736,
        -780
      ]
    },
    {
      "parameters": {
        "fieldsToSummarize": {
          "values": [
            {
              "aggregation": "concatenate",
              "field": "date_description",
              "separateBy": "\n"
            }
          ]
        },
        "options": {}
      },
      "id": "64212f3c-1c71-479c-826b-a6d692c7e73d",
      "name": "–¥–æ–±–∞–≤–∏–º –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É",
      "type": "n8n-nodes-base.summarize",
      "typeVersion": 1,
      "position": [
        1156,
        -1000
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "0fee6eb4-9862-4619-a904-ede2a98a73ae",
              "name": "concatenated_date_description",
              "value": "=<b>–ú–æ–∂–Ω–æ –≤–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É:</b>\n\n{{ $json.concatenated_date_description }}\n",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "d3abd8f4-fb2f-47d1-b287-5bbf8f94a97c",
      "name": "–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é2",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [
        1376,
        -1000
      ]
    },
    {
      "parameters": {
        "fieldsToSummarize": {
          "values": [
            {
              "aggregation": "concatenate",
              "field": "date_description",
              "separateBy": "\n"
            }
          ]
        },
        "options": {}
      },
      "id": "a00a231d-390e-4b7f-b247-ef3bb99b3178",
      "name": "–¥–æ–±–∞–≤–∏–º –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É1",
      "type": "n8n-nodes-base.summarize",
      "typeVersion": 1,
      "position": [
        1236,
        -820
      ]
    },
    {
      "parameters": {
        "fieldsToSummarize": {
          "values": [
            {
              "aggregation": "concatenate",
              "field": "date_description",
              "separateBy": "\n"
            }
          ]
        },
        "options": {}
      },
      "id": "80566675-55ff-4003-8ddb-10d6a0cb33b5",
      "name": "–¥–æ–±–∞–≤–∏–º –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É2",
      "type": "n8n-nodes-base.summarize",
      "typeVersion": 1,
      "position": [
        1236,
        -640
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "0fee6eb4-9862-4619-a904-ede2a98a73ae",
              "name": "concatenated_date_description",
              "value": "=<b>–í —Ä–∞–±–æ—Ç–µ:</b>\n\n{{ $json.concatenated_date_description }}\n",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "13d883fb-8f7b-4923-a3da-2d072e39b7bb",
      "name": "–≤ —Ä–∞–±–æ—Ç–µ",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [
        1456,
        -820
      ],
      "alwaysOutputData": false
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "0fee6eb4-9862-4619-a904-ede2a98a73ae",
              "name": "concatenated_date_description",
              "value": "=<b>–û–∂–∏–¥–∞—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–µ—Ö–∞–Ω–∏–∫–æ–º:</b>\n\n{{ $json.concatenated_date_description }}\n",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "4b55ec6d-b76b-434a-a204-e57154c8ed15",
      "name": "—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [
        1456,
        -640
      ]
    },
    {
      "parameters": {},
      "id": "ca3baa40-5582-49c3-9779-9437372cba1e",
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 2.1,
      "position": [
        1716,
        -860
      ]
    },
    {
      "parameters": {},
      "id": "5b4b06e9-bf27-4b03-a3a5-5b8aee21f180",
      "name": "Merge2",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 2.1,
      "position": [
        1956,
        -800
      ]
    },
    {
      "parameters": {
        "fieldsToSummarize": {
          "values": [
            {
              "aggregation": "concatenate",
              "field": "concatenated_date_description",
              "separateBy": "\n"
            }
          ]
        },
        "options": {}
      },
      "id": "72d6ca23-d1dc-4489-b4f7-5a555875334c",
      "name": "–≤ –æ–¥–∏–Ω —Ç–µ–∫—Å—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ–º",
      "type": "n8n-nodes-base.summarize",
      "typeVersion": 1,
      "position": [
        2176,
        -800
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "230d2a2f-75dd-40a3-a8c7-0ba67887863f",
              "leftValue": "={{ $json.id }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "3b5145b4-b323-4498-9dd7-90bf9e7416f0",
      "name": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –µ—Å—Ç—å –ª–∏ —Ç–∞–∫–∏–µ –∑–∞—è–≤–∫–∏",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        2601,
        -800
      ]
    },
    {
      "parameters": {
        "operation": "editMessageText",
        "chatId": "={{ $('Execute Workflow Trigger').item.json.callback_query.from.id }}",
        "messageId": "={{ $('Execute Workflow Trigger').item.json.callback_query.message.message_id }}",
        "replyMarkup": "inlineKeyboard",
        "text": "={{ $('–≤ –æ–¥–∏–Ω —Ç–µ–∫—Å—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ–º').item.json.concatenated_concatenated_date_description }}",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "–°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É",
                    "additionalFields": {
                      "callback_data": "create_to"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "–í–∑—è—Ç—å –∑–∞—è–≤–∫—É –≤ —Ä–∞–±–æ—Ç—É",
                    "additionalFields": {
                      "callback_data": "take_to"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞—è–≤–∫—É",
                    "additionalFields": {
                      "callback_data": "finish_to"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "parse_mode": "HTML"
        }
      },
      "id": "6fc63a29-b180-4d02-bc1d-24e5f295f6e6",
      "name": "–í—ã–≤–æ–¥ —Å –∫–Ω–æ–ø–∫–æ–π \"–∑–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞—è–≤–∫—É\"",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        2881,
        -860
      ],
      "credentials": {
        "telegramApi": {
          "id": "rJQteGH5Ng1RKmF4",
          "name": "tg dev aleksey"
        }
      }
    },
    {
      "parameters": {
        "content": "## –í—ã–≤–æ–¥ –≤—Å–µ—Ö –∑–∞—è–≤–æ–∫",
        "height": 774.298011427,
        "width": 3958.293696830338,
        "color": 6
      },
      "id": "4274619c-bf8b-48c3-bb39-f2cea53f6e97",
      "name": "Sticky Note28",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -920,
        -1060
      ]
    },
    {
      "parameters": {
        "operation": "editMessageText",
        "chatId": "={{ $('Execute Workflow Trigger').item.json.callback_query.from.id }}",
        "messageId": "={{ $('Execute Workflow Trigger').item.json.callback_query.message.message_id }}",
        "replyMarkup": "inlineKeyboard",
        "text": "={{ $('–≤ –æ–¥–∏–Ω —Ç–µ–∫—Å—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ–º').item.json.concatenated_concatenated_date_description }}",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "–°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É",
                    "additionalFields": {
                      "callback_data": "create_to"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "–í–∑—è—Ç—å –∑–∞—è–≤–∫—É –≤ —Ä–∞–±–æ—Ç—É",
                    "additionalFields": {
                      "callback_data": "take_to"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "–ù–∞–∑–∞–¥",
                    "additionalFields": {
                      "callback_data": "delete_TO"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "parse_mode": "HTML"
        }
      },
      "id": "a7c7ea95-62f7-408a-883a-7c5341940430",
      "name": "–í—ã–≤–æ–¥ —Å –∫–Ω–æ–ø–∫–æ–π \"–Ω–∞–∑–∞–¥\"",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        2876,
        -620
      ],
      "credentials": {
        "telegramApi": {
          "id": "rJQteGH5Ng1RKmF4",
          "name": "tg dev aleksey"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "tg_users",
          "mode": "list",
          "cachedResultName": "tg_users"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "tg_id": "={{ $('Execute Workflow Trigger').item.json.callback_query.from.id }}",
            "status": "authorized"
          },
          "matchingColumns": [
            "tg_id"
          ],
          "schema": [
            {
              "id": "tg_id",
              "displayName": "tg_id",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "odoo_id",
              "displayName": "odoo_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "status",
              "displayName": "status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "only_mech",
              "displayName": "only_mech",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "boolean",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "mech_photo",
              "displayName": "mech_photo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "boolean",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "end_request_id",
              "displayName": "end_request_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "materials_photo",
              "displayName": "materials_photo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "boolean",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "end_request_hours",
              "displayName": "end_request_hours",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ]
        },
        "options": {}
      },
      "id": "81438c96-0db2-495c-a688-3b1b3345855d",
      "name": "–≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞—Ç—É—Å5",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.3,
      "position": [
        -844,
        -680
      ],
      "credentials": {
        "postgres": {
          "id": "xrihBpyZE5y4OBiy",
          "name": "pg dev"
        }
      }
    },
    {
      "parameters": {
        "url": "https://dev.everest.lamart.site/get_car_by_driver",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "cookie",
              "value": "={{ $('Execute Workflow Trigger').item.json.cookie }}"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"driver_id\": {{ $('Execute Workflow Trigger').all()[0].json.odoo_id }}\n} ",
        "options": {}
      },
      "id": "2bd21236-e3b6-4974-8be9-a411c2b4c8da",
      "name": "–ø–æ–ª—É—á–∞–µ–º –∞–≤—Ç–æ –ø–æ –≤–æ–¥–∏—Ç–µ–ª—é",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        -660,
        -680
      ],
      "alwaysOutputData": false,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "url": "https://dev.everest.lamart.site/get_maintenances_by_car",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "cookie",
              "value": "={{ $('Execute Workflow Trigger').item.json.cookie }}"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"car_id\": {{ $json.id }},\n  \"start_date\": \"{{ new Date(1970).toDateTime().format('yyyy-MM-dd') }}\",\n  \"end_date\": \"{{ $today.plus(100, 'years').format('yyyy-MM-dd') }}\"\n} ",
        "options": {}
      },
      "id": "f413c6ad-c9cf-4efe-be20-b537d987e05d",
      "name": "–ø–æ–ª—É—á–∞–µ–º –≤—Å–µ –∑–∞—è–≤–∫–∏",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        -620,
        -900
      ],
      "alwaysOutputData": false,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "e932711f-33b4-456a-a5ca-c2947f0fff80",
              "leftValue": "={{ $json.status }}",
              "rightValue": "–ì–æ—Ç–æ–≤–æ",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "9d1eebe0-800c-4dd6-b874-966038c56f8a",
      "name": "–∑–∞—è–≤–∫–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º != –ì–æ—Ç–æ–≤–æ",
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        -360,
        -900
      ],
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "e932711f-33b4-456a-a5ca-c2947f0fff80",
              "leftValue": "={{ $json.status }}",
              "rightValue": "–í —Ä–∞–±–æ—Ç–µ",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "475408c7-20c9-4863-aec5-7e28821c454f",
      "name": "–∑–∞—è–≤–∫–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º –í —Ä–∞–±–æ—Ç–µ",
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        2540,
        -1020
      ],
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "url": "https://dev.everest.lamart.site/get_maintenances_by_car",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "cookie",
              "value": "={{ $('Execute Workflow Trigger').item.json.cookie }}"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"car_id\": {{ $('–ø–æ–ª—É—á–∞–µ–º –∞–≤—Ç–æ –ø–æ –≤–æ–¥–∏—Ç–µ–ª—é').item.json.id }},\n  \"start_date\": \"{{ new Date(1970).toDateTime().format('yyyy-MM-dd') }}\",\n  \"end_date\": \"{{ $today.plus(100, 'years').format('yyyy-MM-dd') }}\"\n} ",
        "options": {}
      },
      "id": "5b88a672-7171-4341-af51-fc87791bdf6e",
      "name": "–ø–æ–ª—É—á–∞–µ–º –≤—Å–µ –∑–∞—è–≤–∫–∏1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        2300,
        -1020
      ],
      "alwaysOutputData": false,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "url": "https://dev.everest.lamart.site/get_rounds_by_car",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "cookie",
              "value": "={{ $('Execute Workflow Trigger').item.json.cookie }}"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"car_id\": {{ $('–∞–±–±–∞–≤–±–∞—ã').item.json.id }}\n}  ",
        "options": {}
      },
      "id": "b3a60446-8ac1-4123-aaa2-d36a5f2d8829",
      "name": "123-1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        -740,
        -2660
      ],
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "fieldToSplitOut": "transportation_rounds",
        "options": {}
      },
      "id": "e7cc3729-4238-43da-939d-472cd0592d2e",
      "name": "—Ä–∞–∑–¥–µ–ª—è–µ–º —Ä–µ–π—Å—ã1",
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        -500,
        -2660
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "aaf07aad-9b19-4b48-bf43-553efc23a4e7",
              "leftValue": "={{ $json.car[0] }}",
              "rightValue": "={{ $('–∞–±–±–∞–≤–±–∞—ã').item.json.id }}",
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            },
            {
              "id": "1c3e3468-6f14-47ad-b936-9087ffb7f81c",
              "leftValue": "={{ $json.status }}",
              "rightValue": "–ù–∞–∑–Ω–∞—á–µ–Ω",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "a539fae2-b9ee-4005-b179-2436e60ad5b2",
      "name": "—Ä–µ–π—Å—ã –ø–æ –º–∞—à–∏–Ω–µ –≤ –Ω—É–∂–Ω–æ–π –ø–µ—Ä–µ–≤–æ–∑–∫–µ",
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        -260,
        -2680
      ]
    },
    {
      "parameters": {
        "fieldToSplitOut": "transportation_rounds",
        "options": {}
      },
      "id": "249b26d2-f0d1-40a6-baf0-2545ce61c859",
      "name": "—Ä–∞–∑–¥–µ–ª—è–µ–º —Ä–µ–π—Å—ã",
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        -400,
        -2920
      ]
    },
    {
      "parameters": {
        "url": "https://dev.everest.lamart.site/get_car_by_driver",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "cookie",
              "value": "={{ $('Execute Workflow Trigger').item.json.cookie }}"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"driver_id\": {{ $json.odoo_id }}\n} ",
        "options": {}
      },
      "id": "a915ec06-1c67-483d-8339-f70fbd68158d",
      "name": "–∞–±–±–∞–≤–±–∞—ã",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        -1040,
        -2660
      ],
      "alwaysOutputData": false,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "url": "https://dev.everest.lamart.site/get_rounds_by_car",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "cookie",
              "value": "={{ $('Execute Workflow Trigger').item.json.cookie }}"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"car_id\": {{ $json.id }}\n}  ",
        "options": {}
      },
      "id": "179e1526-f911-452e-abf9-304c916e13cb",
      "name": "—Ä–µ–π—Å—ã –ø–æ –∞–≤—Ç–æ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        -640,
        -2920
      ],
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "04c8e168-585b-4a34-8fc7-f1ce53f0f128",
              "leftValue": "={{ $json.status }}",
              "rightValue": "–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "51cec3be-3dbb-4288-875e-879959523b12",
      "name": "–≤—ã–ø–æ–ª–Ω—è—é—â–∏–µ—Å—è —Ä–µ–π—Å—ã",
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        -180,
        -2920
      ]
    },
    {
      "parameters": {
        "url": "https://dev.everest.lamart.site/get_car_by_driver",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "cookie",
              "value": "={{ $('Execute Workflow Trigger').item.json.cookie }}"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"driver_id\": {{ $('Execute Workflow Trigger').item.json.odoo_id }}\n} ",
        "options": {}
      },
      "id": "92d7f3fd-212c-4ee8-b158-a9026f24b2f1",
      "name": "–∞–≤—Ç–æ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        -1440,
        -3900
      ],
      "alwaysOutputData": false,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 1
          },
          "conditions": [
            {
              "id": "44efe1cd-1ec6-4f53-adb5-ffa5dd25effa",
              "leftValue": "={{ $json.status }}",
              "rightValue": "–ó–∞–≤–µ—Ä—à–µ–Ω–∞",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              }
            },
            {
              "id": "e2d3564c-e6ef-45f4-bd61-2e82ed8f86c8",
              "leftValue": "={{ $json.status }}",
              "rightValue": "–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "id": "24306293-d13d-4c20-9448-7f2ec265d8ab",
      "name": "—É–±–∏—Ä–∞–µ–º –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–∑–∫–∏",
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2,
      "position": [
        -80,
        -3800
      ]
    },
    {
      "parameters": {},
      "id": "476437a5-18ec-411c-83de-e18be9de0e45",
      "name": "–ø–µ—Ä–≤–∞—è –ø–µ—Ä–µ–≤–æ–∑–∫–∞",
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        140,
        -3800
      ]
    },
    {
      "parameters": {
        "fieldToSplitOut": "transportation",
        "options": {}
      },
      "id": "fc08dc18-fd72-4c47-bd30-04ce229dae76",
      "name": "—Å–∞–º–∏ –ø–µ—Ä–µ–≤–æ–∑–∫–∏",
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        -360,
        -3800
      ]
    },
    {
      "parameters": {
        "url": "https://dev.everest.lamart.site//get_transportation_by_id",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "cookie",
              "value": "={{ $('Execute Workflow Trigger').item.json.cookie }}"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"transportation_id\": {{ $json.transportations[0].transportation }}\n} ",
        "options": {}
      },
      "id": "34406b58-b4ab-4bd9-a1bc-d76c9183820d",
      "name": "–ø–µ—Ä–µ–≤–æ–∑–∫–∞ –∏–∑ –æ—á–µ—Ä–µ–¥–∏",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        -580,
        -3800
      ]
    },
    {
      "parameters": {
        "fieldToSplitOut": "rounds",
        "options": {}
      },
      "id": "f1392a25-e125-4642-b689-b3a7e56165b6",
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        -1060,
        -4120
      ],
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "url": "https://dev.everest.lamart.site//get_round_by_id",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "cookie",
              "value": "={{ $('Execute Workflow Trigger').item.json.cookie }}"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "round_id",
              "value": "={{ $json.rounds }}"
            }
          ]
        },
        "options": {}
      },
      "id": "9b7d7ec8-82cd-48e9-94b6-0f97cb62e9ee",
      "name": "–ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–π—Å–æ–≤",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        -820,
        -4120
      ],
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "7461c3bc-d00a-4c55-abeb-1df6fa8be61f",
              "leftValue": "={{ $json.transportation_round[0].driver[0] }}",
              "rightValue": "={{ $('Execute Workflow Trigger').item.json.odoo_id }}",
              "operator": {
                "type": "number",
                "operation": "notEquals"
              }
            },
            {
              "id": "1f7d17a3-1371-4099-accc-99a175e9238a",
              "leftValue": "={{ $json.transportation_round[0].driver[1] }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "bb2e065b-1449-4b0a-81d7-4f609e05abc2",
      "name": "—Ä–µ–π—Å—ã –≤ –ø–µ—Ä–µ–≤–æ–∑–∫–µ",
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        -540,
        -4120
      ],
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "resource": "custom",
        "customResource": "cars.cars",
        "operation": "update",
        "customResourceId": "={{ $json.id }}",
        "fieldsToCreateOrUpdate": {
          "fields": [
            {
              "fieldName": "status",
              "fieldValue": "–ù–µ—Ç –≤–æ–¥–∏—Ç–µ–ª—è"
            },
            {
              "fieldName": "driver_id",
              "fieldValue": "={{ \"\" }}"
            }
          ]
        }
      },
      "id": "92fe12b5-a92c-4e4c-ba30-c1d8558ffbc7",
      "name": "–º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å –º–∞—à–∏–Ω—ã –Ω–∞ –ù–µ—Ç –≤–æ–¥–∏—Ç–µ–ª—è1",
      "type": "n8n-nodes-base.odoo",
      "typeVersion": 1,
      "position": [
        -120,
        -4120
      ],
      "credentials": {
        "odooApi": {
          "id": "ITgOrhO4Hf2QcDtf",
          "name": "odoo dev"
        }
      }
    },
    {
      "parameters": {
        "url": "https://dev.everest.lamart.site/get_maintenances_by_car",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "cookie",
              "value": "={{ $('Execute Workflow Trigger').item.json.cookie }}"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"car_id\": {{ $json.id }},\n  \"start_date\": \"{{ new Date(1970).toDateTime().format('yyyy-MM-dd') }}\",\n  \"end_date\": \"{{ $today.plus(100, 'years').format('yyyy-MM-dd') }}\"\n} ",
        "options": {}
      },
      "id": "cf2d46a8-f4bc-42f2-9665-1f8df879558b",
      "name": "–ø–æ–ª—É—á–∞–µ–º –∑–∞—è–≤–∫–∏",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1100,
        -3900
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "4587f5de-1372-4033-b5c9-25685e0ea9a4",
              "leftValue": "={{ $json.status }}",
              "rightValue": "–ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "79e496d5-8e49-4820-9fd2-32c69bcbd014",
      "name": "–∑–∞—è–≤–∫–∏ \"–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é\"",
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        -860,
        -3900
      ]
    },
    {
      "parameters": {
        "url": "https://dev.everest.lamart.site/get_maintenance_by_id",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "cookie",
              "value": "={{ $('Execute Workflow Trigger').item.json.cookie }}"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"maintenance_id\": {{ $json.TO_number }}\n}",
        "options": {}
      },
      "id": "98bc11c3-7f6a-4492-927f-846a64f9b99b",
      "name": "–ø–æ–ª—É—á–∏–º –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -660,
        -3360
      ]
    }
  ],
  "pinData": {
    "1": [
      {
        "json": {
          "update_id": 100629693,
          "message": {
            "message_id": 21959,
            "from": {
              "id": 7094417017,
              "is_bot": false,
              "first_name": "–°–µ—Ä–≥–µ–π",
              "last_name": "–ö–æ—Å–æ–ª–∞–ø–æ–≤",
              "username": "sergio_kf",
              "language_code": "ru"
            },
            "chat": {
              "id": 7094417017,
              "first_name": "–°–µ—Ä–≥–µ–π",
              "last_name": "–ö–æ—Å–æ–ª–∞–ø–æ–≤",
              "username": "sergio_kf",
              "type": "private"
            },
            "date": 1727879116,
            "text": "–ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
          },
          "tg_id": "7094417017",
          "odoo_id": 4,
          "status": "authorized",
          "only_mech": false,
          "mech_photo": false,
          "end_request_id": 407,
          "materials_photo": false,
          "end_request_hours": null,
          "car_id_while_inputing": 19,
          "fuel_liters": null,
          "weight_measure": "5 –º3 ",
          "logist_alert_text": null,
          "logist_recipient_name": null,
          "transportation_for_certificate": null,
          "count_weight_photo": null,
          "count_weight_photo_sent": null,
          "current_quarry_hours": null,
          "end_round_message_id": null,
          "last_message_text": null,
          "logist_notifications": false,
          "cookie": "session_id=6d538dcd38dc1fcb5754db73af461fe9b3c211fb; Expires=Thu, 02 Oct 2025 14:25:17 GMT; Max-Age=604800; HttpOnly; Path=/",
          "seconds": 1.656
        }
      }
    ],
    "Execute Workflow Trigger": [
      {
        "json": {
          "update_id": 100635331,
          "callback_query": {
            "id": "2008109315347373364",
            "from": {
              "id": 467549384,
              "is_bot": false,
              "first_name": "Sergio",
              "username": "sergo_kf",
              "language_code": "ru",
              "is_premium": true
            },
            "message": {
              "message_id": 27938,
              "from": {
                "id": 7063451965,
                "is_bot": true,
                "first_name": "Everest n8n",
                "username": "myn8nbotbot"
              },
              "chat": {
                "id": 467549384,
                "first_name": "Sergio",
                "username": "sergo_kf",
                "type": "private"
              },
              "date": 1731481573,
              "text": "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—è –∏ –Ω–æ–º–µ—Ä–∞:\nSCANIA - –ê 657 –ê–ê",
              "entities": [
                {
                  "offset": 46,
                  "length": 17,
                  "type": "bold"
                }
              ],
              "reply_markup": {
                "inline_keyboard": [
                  [
                    {
                      "text": "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å",
                      "callback_data": "correct_number"
                    }
                  ],
                  [
                    {
                      "text": "–í–≤–µ—Å—Ç–∏ –Ω–æ–º–µ—Ä –∞–≤—Ç–æ –∑–∞–Ω–æ–≤–æ",
                      "callback_data": "back_to_input_car"
                    }
                  ]
                ]
              }
            },
            "chat_instance": "-8293046807322593726",
            "data": "month_stats_inline"
          },
          "tg_id": "467549384",
          "odoo_id": 4,
          "status": "inputing_car_number",
          "only_mech": false,
          "mech_photo": false,
          "end_request_id": null,
          "materials_photo": false,
          "end_request_hours": null,
          "car_id_while_inputing": 25,
          "fuel_liters": 100,
          "weight_measure": "32.22 –¢–æ–Ω–Ω—ã ",
          "logist_alert_text": null,
          "logist_recipient_name": null,
          "transportation_for_certificate": null,
          "count_weight_photo": 1,
          "count_weight_photo_sent": 0,
          "current_quarry_hours": 5,
          "end_round_message_id": 27735,
          "last_message_text": "–û—Ç–ª–∏—á–Ω–æ, —Ä–µ–π—Å –∞–∫—Ç–∏–≤–µ–Ω. \n\n–ö–∞—Ä—å–µ—Ä –ö–ª—é—á–µ–≤–æ–µ - –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫\n–°–∫–∞–ª—å–Ω—ã–π –≥—Ä—É–Ω—Ç\n\n–ü–æ –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É \"–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–µ–π—Å\"",
          "logist_notifications": false,
          "creating_transportation": "657;\n–ö–∞—Ä—å–µ—Ä –ö–ª—é—á–µ–≤–æ–µ;",
          "round_active_msg_id": null,
          "cookie": "session_id=c3e4a62a1a8d37aac55955740fe40fb4fbfdb108; Expires=Tue, 11 Nov 2025 06:56:02 GMT; Max-Age=604800; HttpOnly; Path=/"
        }
      }
    ]
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [
    {
      "createdAt": "2024-09-24T08:58:09.310Z",
      "updatedAt": "2024-09-24T08:58:09.310Z",
      "id": "q04ytwCpcqGbl5Cc",
      "name": "sergey"
    }
  ],
  "triggerCount": 0,
  "updatedAt": "2024-11-13T17:26:47.199Z",
  "versionId": "37b2d17b-4365-4f43-8c0f-22a365436dfe"
}