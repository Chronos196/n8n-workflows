{
  "active": true,
  "connections": {
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "Check_type",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç": {
      "main": [
        [
          {
            "node": "–ø–æ–ª—É—á–∞–µ–º –ø–µ—Ä–≤—ã–π —Å—Ç–∞—Ç—É—Å",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø–æ–ª—É—á–∞–µ–º odoo id": {
      "main": [
        [
          {
            "node": "Odoo2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Odoo2": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "–µ—Å—Ç—å –ª–∏ —Å—Ç–∞—Ç—É—Å": {
      "main": [
        [
          {
            "node": "–∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø–æ–ª—É—á–∞–µ–º –ø–µ—Ä–≤—ã–π —Å—Ç–∞—Ç—É—Å": {
      "main": [
        [
          {
            "node": "–µ—Å—Ç—å –ª–∏ —Å—Ç–∞—Ç—É—Å",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å": {
      "main": [
        [
          {
            "node": "–ø–æ–ª—É—á–∞–µ–º –ø–µ—Ä–≤—ã–π —Å—Ç–∞—Ç—É—Å",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å": {
      "main": [
        [
          {
            "node": "–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check_type": {
      "main": [
        [
          {
            "node": "–¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "check_role1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "check_role": {
      "main": [
        [
          {
            "node": "Telegram4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "check_role1": {
      "main": [
        [],
        [
          {
            "node": "Picked_button",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch1": {
      "main": [
        [
          {
            "node": "–ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –º–∞—à–∏–Ω—ã",
            "type": "main",
            "index": 0
          },
          {
            "node": "–ø–æ–ª—É—á–∞–µ–º odoo id",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "main-menu2",
            "type": "main",
            "index": 0
          }
        ],
        [],
        [
          {
            "node": "Telegram5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –º–∞—à–∏–Ω—ã": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "main-menu",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø–æ–ª—É—á–∞–µ–º odoo id1": {
      "main": [
        [
          {
            "node": "Odoo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Odoo": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "–ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –º–∞—à–∏–Ω—ã1": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge1": {
      "main": [
        [
          {
            "node": "main-menu1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Picked_button": {
      "main": [
        [
          {
            "node": "–ø—Ä–∏–Ω—è—Ç—ã–π –∑–∞–∫–∞–∑",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Stats",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Finish",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "menu",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "comment",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –º–∞—à–∏–Ω—ã1",
            "type": "main",
            "index": 0
          },
          {
            "node": "–ø–æ–ª—É—á–∞–µ–º odoo id1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞": {
      "main": [
        [
          {
            "node": "–º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å1": {
      "main": [
        [
          {
            "node": "–æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –∫–æ–Ω—Ç–∞–∫—Ç–∞",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞": {
      "main": [
        [
          {
            "node": "–ø–æ–ª—É—á–∞–µ–º id –ø–æ mobile_phone",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø–æ–ª—É—á–∞–µ–º id –ø–æ mobile_phone": {
      "main": [
        [
          {
            "node": "–ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ": {
      "main": [
        [
          {
            "node": "–ø–æ–ª—É—á–∞–µ–º –∏–º—è",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–ø–∏—à–µ–º, —á—Ç–æ –Ω–æ–º–µ—Ä–∞ –Ω–µ—Ç",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "—É—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥": {
      "main": [
        [
          {
            "node": "–º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å –Ω–∞ \"–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω\"",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ø–æ–ª—É—á–∞–µ–º –∏–º—è": {
      "main": [
        [
          {
            "node": "—É—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2024-03-29T15:21:25.932Z",
  "id": "GNj6UMVVNUGAI7F7",
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Main Everest 3",
  "nodes": [
    {
      "parameters": {
        "updates": [
          "message",
          "callback_query"
        ],
        "additionalFields": {}
      },
      "id": "af8e17fb-386d-480f-90eb-b1a85937bb12",
      "name": "Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.1,
      "position": [
        -220,
        1380
      ],
      "webhookId": "6829191f-f2cf-41f8-bdd9-6e6890f1ba9b",
      "credentials": {
        "telegramApi": {
          "id": "ThC2kf8ZCBAO0FBa",
          "name": "Main Everest"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "INSERT INTO tg_users (tg_id, odoo_id, status) VALUES ($1, NULL, NULL) ON CONFLICT (tg_id) DO NOTHING;",
        "options": {
          "queryReplacement": "={{ $('Telegram Trigger').item.json.message.from.id }}"
        }
      },
      "id": "4eb83bf6-4b97-494b-8a1b-af8203740df6",
      "name": "–¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.3,
      "position": [
        300,
        1380
      ],
      "credentials": {
        "postgres": {
          "id": "Q4ZHMkPf1vzJmsuw",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "select",
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "tg_users",
          "mode": "list",
          "cachedResultName": "tg_users"
        },
        "where": {
          "values": [
            {
              "column": "tg_id",
              "value": "={{ $('Telegram Trigger').item.json.message.from.id }}"
            }
          ]
        },
        "options": {}
      },
      "id": "675cadf4-2089-4e0d-b1cf-2cf77a7fd97f",
      "name": "–ø–æ–ª—É—á–∞–µ–º odoo id",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.3,
      "position": [
        2000,
        1500
      ],
      "credentials": {
        "postgres": {
          "id": "Q4ZHMkPf1vzJmsuw",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "get",
        "contactId": "={{ $json.odoo_id }}",
        "options": {}
      },
      "id": "90fdddbf-1c5d-4c06-9e73-76ff63294a70",
      "name": "Odoo2",
      "type": "n8n-nodes-base.odoo",
      "typeVersion": 1,
      "position": [
        2280,
        1500
      ],
      "credentials": {
        "odooApi": {
          "id": "IbOO6r3p0Qvo35Gh",
          "name": "Odoo –ê–ª–µ–∫—Å–µ–π"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "3f1dd178-652c-4e81-8cb6-91df77dfe097",
              "leftValue": "={{ $json.status }}",
              "rightValue": "unauthorized",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "b5d6b4d1-acb3-4228-90eb-e1fe25045eff",
      "name": "–µ—Å—Ç—å –ª–∏ —Å—Ç–∞—Ç—É—Å",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        700,
        1380
      ]
    },
    {
      "parameters": {
        "operation": "select",
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "tg_users",
          "mode": "list",
          "cachedResultName": "tg_users"
        },
        "where": {
          "values": [
            {
              "column": "tg_id",
              "value": "={{ $('Telegram Trigger').item.json.message.from.id }}"
            }
          ]
        },
        "options": {}
      },
      "id": "9284c1b8-7638-45be-bd74-e4595990db9a",
      "name": "–ø–æ–ª—É—á–∞–µ–º –ø–µ—Ä–≤—ã–π —Å—Ç–∞—Ç—É—Å",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.3,
      "position": [
        500,
        1380
      ],
      "credentials": {
        "postgres": {
          "id": "Q4ZHMkPf1vzJmsuw",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "tg_users",
          "mode": "list",
          "cachedResultName": "tg_users"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "tg_id": "={{ $('–µ—Å—Ç—å –ª–∏ —Å—Ç–∞—Ç—É—Å').item.json.tg_id }}",
            "status": "unauthorized"
          },
          "matchingColumns": [
            "tg_id"
          ],
          "schema": [
            {
              "id": "tg_id",
              "displayName": "tg_id",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "odoo_id",
              "displayName": "odoo_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "status",
              "displayName": "status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ]
        },
        "options": {}
      },
      "id": "ea3d4d91-67f3-4f80-adcc-f7ce5389b2d5",
      "name": "–º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.3,
      "position": [
        900,
        1500
      ],
      "credentials": {
        "postgres": {
          "id": "Q4ZHMkPf1vzJmsuw",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "select",
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "tg_users",
          "mode": "list",
          "cachedResultName": "tg_users"
        },
        "where": {
          "values": [
            {
              "column": "tg_id",
              "value": "={{ $('Telegram Trigger').item.json.message.from.id }}"
            }
          ]
        },
        "options": {}
      },
      "id": "5b7c29cd-11b9-4d4e-9606-dbf02ac153cc",
      "name": "–∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.3,
      "position": [
        900,
        1060
      ],
      "credentials": {
        "postgres": {
          "id": "Q4ZHMkPf1vzJmsuw",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "11c45e0d-196b-47f1-821e-bee57c9f070b",
              "leftValue": "={{ $('Telegram Trigger').item.json.hasField(\"message\") }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "b42b2391-6c3f-406b-904d-168a40a1746f",
      "name": "Check_type",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        20,
        1380
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "ed8fd1fb-ba97-41a5-844d-74a3ce352197",
              "leftValue": "={{ $json.message.from.username }}",
              "rightValue": "sanioche",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "id": "e0067930-b27e-455b-8ac3-f42cec472707",
      "name": "check_role",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        3860,
        500
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "9e5341d4-525b-4677-b22e-26741349cd16",
              "leftValue": "{{ $json.callback_query.from.username }}",
              "rightValue": "saniochek",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "850c6470-0a72-4cfb-9d9f-7974215e43b5",
      "name": "check_role1",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        300,
        2140
      ]
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=<b>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ–¥–∏—Ç–µ –æ—Å–º–æ—Ç—Ä –∞–≤—Ç–æ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã!\n\n–ê–≤—Ç–æ–º–æ–±–∏–ª—å:</b>\n{{ $json.auto_number }}\n\n<b>–í–æ–¥–∏—Ç–µ–ª—å:</b>\n{{ $json[\"name\"] }}\n______________________\n<b>‚≠ï –¢–µ—Ö. –∂–∏–¥–∫–æ—Å—Ç—å –≤ –Ω–æ—Ä–º–µ.\n‚≠ï –¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ –Ω–æ—Ä–º–µ.\n‚≠ï –•–æ–¥–æ–≤–∞—è —á–∞—Å—Ç—å –≤ –Ω–æ—Ä–º–µ.\n‚≠ï –ó–∞–ø–∞—Å–∫–∞ –≤ –Ω–æ—Ä–º–µ.\n\n–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ –¥–æ: 18.07.2024.\n\n–ü—Ä–æ–±–µ–≥:</b> 332358–∫–º.",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "‚úÖ–í—Å—ë –≤ –Ω–æ—Ä–º–µ.",
                    "additionalFields": {
                      "callback_data": "=menu_ok"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "‚ùå–ï—Å—Ç—å –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏",
                    "additionalFields": {
                      "callback_data": "=menu_wrong"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "id": "e3ad234b-90ae-4a6a-a4b7-a06d8fd964c0",
      "name": "main-menu",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        2840,
        1420
      ],
      "credentials": {
        "telegramApi": {
          "id": "ThC2kf8ZCBAO0FBa",
          "name": "Main Everest"
        }
      }
    },
    {
      "parameters": {
        "operation": "editMessageText",
        "chatId": "={{ $json.callback_query.message.chat.id }}",
        "messageId": "={{ $json.callback_query.message.message_id }}",
        "replyMarkup": "inlineKeyboard",
        "text": "=<b>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ–¥–∏—Ç–µ –æ—Å–º–æ—Ç—Ä –∞–≤—Ç–æ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã!\n\n–ê–≤—Ç–æ–º–æ–±–∏–ª—å:</b>\n* SCANIA –ê459–¢–ï *\n\n<b>–í–æ–¥–∏—Ç–µ–ª—å:</b>\n–ú–∞–º–µ–¥–æ–≤ –ï.–°.\n______________________\n<b>‚≠ï –¢–µ—Ö. –∂–∏–¥–∫–æ—Å—Ç—å –≤ –Ω–æ—Ä–º–µ.\n‚≠ï –¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ –Ω–æ—Ä–º–µ.\n‚≠ï –•–æ–¥–æ–≤–∞—è —á–∞—Å—Ç—å –≤ –Ω–æ—Ä–º–µ.\n‚≠ï –ó–∞–ø–∞—Å–∫–∞ –≤ –Ω–æ—Ä–º–µ.\n\n–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ –¥–æ: 18.07.2024.\n\n–ü—Ä–æ–±–µ–≥:</b> 332358–∫–º.",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üìÑ–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π",
                    "additionalFields": {
                      "callback_data": "menu_com"
                    }
                  },
                  {
                    "text": "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è",
                    "additionalFields": {
                      "callback_data": "no_com"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "parse_mode": "HTML"
        }
      },
      "id": "06e27ed5-3714-441b-81c6-aefa3f0216eb",
      "name": "menu-wrong",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        220,
        2960
      ],
      "credentials": {
        "telegramApi": {
          "id": "ThC2kf8ZCBAO0FBa",
          "name": "Main Everest"
        }
      }
    },
    {
      "parameters": {
        "operation": "editMessageText",
        "chatId": "={{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "messageId": "={{ $('Telegram Trigger').item.json.callback_query.message.message_id }}",
        "replyMarkup": "inlineKeyboard",
        "text": "=<b>–ê–≤—Ç–æ–º–æ–±–∏–ª—å:</b>\n* SCANIA –ê459–¢–ï *\n\n<b>–í–æ–¥–∏—Ç–µ–ª—å:</b>\n\n______________________\n<b>‚úÖ –¢–µ—Ö. –∂–∏–¥–∫–æ—Å—Ç—å –≤ –Ω–æ—Ä–º–µ.\n‚úÖ –¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ –Ω–æ—Ä–º–µ.\n‚úÖ –•–æ–¥–æ–≤–∞—è —á–∞—Å—Ç—å –≤ –Ω–æ—Ä–º–µ.\n‚úÖ –ó–∞–ø–∞—Å–∫–∞ –≤ –Ω–æ—Ä–º–µ.\n\n–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ –¥–æ: 18.07.2024.\n\n–ü—Ä–æ–±–µ–≥:</b> 332358–∫–º.",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üìÑ–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π",
                    "additionalFields": {
                      "callback_data": "menu_com"
                    }
                  },
                  {
                    "text": "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è",
                    "additionalFields": {
                      "callback_data": "no_com"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "parse_mode": "HTML"
        }
      },
      "id": "40d4368c-b1df-4bc0-a303-b499349c33cb",
      "name": "menu-ok",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        420,
        3080
      ],
      "credentials": {
        "telegramApi": {
          "id": "ThC2kf8ZCBAO0FBa",
          "name": "Main Everest"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=<b>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ–¥–∏—Ç–µ –æ—Å–º–æ—Ç—Ä –∞–≤—Ç–æ –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º —Ä–∞–±–æ—Ç—ã!\n\n–ê–≤—Ç–æ–º–æ–±–∏–ª—å:</b>\n* SCANIA –ê459–¢–ï *\n\n<b>–í–æ–¥–∏—Ç–µ–ª—å:</b>\n–ú–∞–º–µ–¥–æ–≤ –ï.–°.\n______________________\n<b>‚≠ï –¢–µ—Ö. –∂–∏–¥–∫–æ—Å—Ç—å –≤ –Ω–æ—Ä–º–µ.\n‚≠ï –¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ –Ω–æ—Ä–º–µ.\n‚≠ï –•–æ–¥–æ–≤–∞—è —á–∞—Å—Ç—å –≤ –Ω–æ—Ä–º–µ.\n‚≠ï –ó–∞–ø–∞—Å–∫–∞ –≤ –Ω–æ—Ä–º–µ.\n\n–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ –¥–æ: 18.07.2024.\n\n–ü—Ä–æ–±–µ–≥:</b> 332358–∫–º.\n",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "‚úÖ–í—Å—ë –≤ –Ω–æ—Ä–º–µ.",
                    "additionalFields": {
                      "callback_data": "=menu_ok"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "‚ùå–ï—Å—Ç—å –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏",
                    "additionalFields": {
                      "callback_data": "=menu_wrong"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "id": "bda8f0dd-3fc9-4656-85f3-08da6671ec17",
      "name": "main-menu2",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        2200,
        1720
      ],
      "credentials": {
        "telegramApi": {
          "id": "ThC2kf8ZCBAO0FBa",
          "name": "Main Everest"
        }
      }
    },
    {
      "parameters": {
        "operation": "editMessageText",
        "chatId": "={{ $json.callback_query.message.chat.id }}",
        "messageId": "={{ $json.callback_query.message.message_id }}",
        "replyMarkup": "inlineKeyboard",
        "text": "–û—Ç–ª–∏—á–Ω–æ, –≤—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ –∑–∞–∫–∞–∑, —Ö–æ—Ç–∏—Ç–µ –ø—Ä–∏–Ω—è—Ç—å —Å–ª–µ–¥—É—é—â–∏–π?",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "–ü—Ä–∏–Ω—è—Ç—å –∑–∞–∫–∞–∑",
                    "additionalFields": {
                      "callback_data": "pick"
                    }
                  },
                  {
                    "text": "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É",
                    "additionalFields": {
                      "callback_data": "stats"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {}
      },
      "id": "a4fd9a7c-9768-4afd-b486-d72718fa2f74",
      "name": "Finish",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        1120,
        2080
      ],
      "credentials": {
        "telegramApi": {
          "id": "ThC2kf8ZCBAO0FBa",
          "name": "Main Everest"
        }
      }
    },
    {
      "parameters": {
        "operation": "editMessageText",
        "chatId": "={{ $json.callback_query.message.chat.id }}",
        "messageId": "={{ $json.callback_query.message.message_id }}",
        "replyMarkup": "inlineKeyboard",
        "text": "=–õ–∏—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–æ–¥–∏—Ç–µ–ª—è:\n–ó–∞ —Å–µ–≥–æ–¥–Ω—è—à–∏–π –¥–µ–Ω—å –≤—ã–ø–æ–ª–Ω–æ <b><i>9</i></b> –∑–∞–∫–∞–∑–æ–≤.\n–ü—Ä–µ–æ–¥–∞–ª–µ–Ω–æ <b><i>1689</i></b> –∫–∏–ª–æ–º–µ—Ç—Ä–æ–≤\n–ü–µ—Ä–µ–≤–µ–∑–µ–Ω–æ <b><i>189</i></b> —Ç–æ–Ω–Ω –≥—Ä—É–∑–∞",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "–í—ã–π—Ç–∏ –≤ –º–µ–Ω—é",
                    "additionalFields": {
                      "callback_data": "Finish"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "parse_mode": "HTML"
        }
      },
      "id": "e2bdd6b9-9e50-4b8e-9165-986eef95decb",
      "name": "Stats",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        1100,
        1900
      ],
      "credentials": {
        "telegramApi": {
          "id": "ThC2kf8ZCBAO0FBa",
          "name": "Main Everest"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $json.callback_query.message.chat.id }}",
        "text": "=<b>–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</b>",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "id": "5885ec70-e053-4134-97e6-bef1b43d5694",
      "name": "comment",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        1120,
        2440
      ],
      "credentials": {
        "telegramApi": {
          "id": "ThC2kf8ZCBAO0FBa",
          "name": "Main Everest"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $json.callback_query.message.chat.id }}",
        "text": "–ü—Ä–∏–≤–µ—Ç –¥–æ—Ä–æ–≥–æ–π –≤–æ–¥–∏—Ç–µ–ª—å, –∫–∞–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ —Ç—ã –Ω–∞–º–µ—Ä–µ–Ω —Å–æ–≤–µ—Ä—à–∏—Ç—å?",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "–ü—Ä–∏–Ω—è—Ç—å –∑–∞–∫–∞–∑",
                    "additionalFields": {
                      "callback_data": "pick",
                      "switch_inline_query_current_chat": ""
                    }
                  },
                  {
                    "text": "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É",
                    "additionalFields": {
                      "callback_data": "stats",
                      "switch_inline_query_current_chat": ""
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "id": "9a872309-f7fe-4ee2-9697-5116fcafab51",
      "name": "menu",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        1120,
        2260
      ],
      "credentials": {
        "telegramApi": {
          "id": "ThC2kf8ZCBAO0FBa",
          "name": "Main Everest"
        }
      }
    },
    {
      "parameters": {
        "chatId": "799934256",
        "text": "–ø—Ä–∏–≤–µ—Ç, –¥–æ—Ä–æ–≥–æ–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä",
        "additionalFields": {}
      },
      "id": "6bb68bc1-91c8-4134-84e2-fb79c9376a0e",
      "name": "Telegram4",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        3960,
        220
      ],
      "credentials": {
        "telegramApi": {
          "id": "gOQQxmUbZz0UWAfO",
          "name": "Telegram account 2"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–æ—Å—Ç–∞–≤–ª–µ–Ω –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "–ü—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –∑–∞–∫–∞–∑–∞–º",
                    "additionalFields": {
                      "callback_data": "Finish"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "id": "1138f97c-cbf2-45e6-94db-d57b42d1f56c",
      "name": "Telegram5",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        1980,
        1880
      ],
      "credentials": {
        "telegramApi": {
          "id": "ThC2kf8ZCBAO0FBa",
          "name": "Main Everest"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "/start",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "25f542cb-b3ad-4b48-9efe-4ddbfbf061c3",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "/stop",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "33133f70-808e-4dfc-b1dc-59459b6f153b",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "/connect",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "2840f16b-5d62-4b30-bb5c-d37dfc8f7a8a",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "=",
                    "operator": {
                      "type": "string",
                      "operation": "exists",
                      "singleValue": true
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "id": "45e73a62-1467-4bee-8e43-324985551bf4",
      "name": "Switch1",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3,
      "position": [
        1640,
        1660
      ]
    },
    {
      "parameters": {
        "operation": "select",
        "schema": {
          "__rl": true,
          "value": "public",
          "mode": "list",
          "cachedResultName": "public"
        },
        "table": {
          "__rl": true,
          "value": "vehicles",
          "mode": "list",
          "cachedResultName": "vehicles"
        },
        "limit": 1,
        "where": {
          "values": [
            {
              "column": "tg_user",
              "value": "={{ $('Telegram Trigger').item.json.message.from.id }}"
            }
          ]
        },
        "options": {}
      },
      "id": "2e8bfdc7-18d3-49e6-bcde-8e1c5ea87396",
      "name": "–ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –º–∞—à–∏–Ω—ã",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.3,
      "position": [
        1900,
        1300
      ],
      "credentials": {
        "postgres": {
          "id": "Q4ZHMkPf1vzJmsuw",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "mode": "combine",
        "combinationMode": "multiplex",
        "options": {}
      },
      "id": "b7b15a06-7a9b-4b9e-89d6-ebd072f3f8ad",
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 2.1,
      "position": [
        2580,
        1420
      ]
    },
    {
      "parameters": {
        "operation": "editMessageText",
        "chatId": "={{ $json.callback_query.message.chat.id }}",
        "messageId": "={{ $json.callback_query.message.message_id }}",
        "replyMarkup": "inlineKeyboard",
        "text": "–û—Ç–ª–∏—á–Ω–æ, –≤—ã –ø—Ä–∏–Ω—è–ª–∏ –∑–∞–∫–∞–∑, –ø–æ –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É <b><i>\"–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–∫–∞–∑\"</i></b>",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–∫–∞–∑",
                    "additionalFields": {
                      "callback_data": "Finish"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "parse_mode": "HTML"
        }
      },
      "id": "e02b9c4b-0aff-4705-a6b7-081d44d2b24d",
      "name": "–ø—Ä–∏–Ω—è—Ç—ã–π –∑–∞–∫–∞–∑",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        1020,
        1740
      ],
      "credentials": {
        "telegramApi": {
          "id": "ThC2kf8ZCBAO0FBa",
          "name": "Main Everest"
        }
      }
    },
    {
      "parameters": {
        "operation": "select",
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "tg_users",
          "mode": "list",
          "cachedResultName": "tg_users"
        },
        "where": {
          "values": [
            {
              "column": "tg_id",
              "value": "={{ $json.callback_query.from.id }}"
            }
          ]
        },
        "options": {}
      },
      "id": "b124602a-c935-4a51-b457-eeb59b1ecbee",
      "name": "–ø–æ–ª—É—á–∞–µ–º odoo id1",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.3,
      "position": [
        1020,
        2820
      ],
      "credentials": {
        "postgres": {
          "id": "Q4ZHMkPf1vzJmsuw",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "get",
        "contactId": "={{ $json.odoo_id }}",
        "options": {}
      },
      "id": "b677a125-9eb5-4db0-92d1-f767fa5f58d5",
      "name": "Odoo",
      "type": "n8n-nodes-base.odoo",
      "typeVersion": 1,
      "position": [
        1300,
        2820
      ],
      "credentials": {
        "odooApi": {
          "id": "IbOO6r3p0Qvo35Gh",
          "name": "Odoo –ê–ª–µ–∫—Å–µ–π"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $json.tg_user }}",
        "text": "=<b>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ–¥–∏—Ç–µ –æ—Å–º–æ—Ç—Ä –∞–≤—Ç–æ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã!\n\n–ê–≤—Ç–æ–º–æ–±–∏–ª—å:</b>\n{{ $json.auto_number }}\n\n<b>–í–æ–¥–∏—Ç–µ–ª—å:</b>\n{{ $json[\"name\"] }}\n______________________\n<b>‚≠ï –¢–µ—Ö. –∂–∏–¥–∫–æ—Å—Ç—å –≤ –Ω–æ—Ä–º–µ.\n‚≠ï –¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ –Ω–æ—Ä–º–µ.\n‚≠ï –•–æ–¥–æ–≤–∞—è —á–∞—Å—Ç—å –≤ –Ω–æ—Ä–º–µ.\n‚≠ï –ó–∞–ø–∞—Å–∫–∞ –≤ –Ω–æ—Ä–º–µ.\n\n–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ –¥–æ: 18.07.2024.\n\n–ü—Ä–æ–±–µ–≥:</b> 332358–∫–º.",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "‚úÖ–í—Å—ë –≤ –Ω–æ—Ä–º–µ.",
                    "additionalFields": {
                      "callback_data": "=menu_ok"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "‚ùå–ï—Å—Ç—å –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏",
                    "additionalFields": {
                      "callback_data": "=menu_wrong"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "id": "4e7695db-00c6-4a7b-a8a9-a4d4ad86dc33",
      "name": "main-menu1",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        1860,
        2740
      ],
      "credentials": {
        "telegramApi": {
          "id": "ThC2kf8ZCBAO0FBa",
          "name": "Main Everest"
        }
      }
    },
    {
      "parameters": {
        "operation": "select",
        "schema": {
          "__rl": true,
          "value": "public",
          "mode": "list",
          "cachedResultName": "public"
        },
        "table": {
          "__rl": true,
          "value": "vehicles",
          "mode": "list",
          "cachedResultName": "vehicles"
        },
        "limit": 1,
        "where": {
          "values": [
            {
              "column": "tg_user",
              "value": "={{ $json.callback_query.from.id }}"
            }
          ]
        },
        "options": {}
      },
      "id": "f4b6dd77-0003-4e14-94f6-730dbab52081",
      "name": "–ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –º–∞—à–∏–Ω—ã1",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.3,
      "position": [
        1020,
        2620
      ],
      "credentials": {
        "postgres": {
          "id": "Q4ZHMkPf1vzJmsuw",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "mode": "combine",
        "combinationMode": "multiplex",
        "options": {}
      },
      "id": "83d03259-e328-4bb7-81a6-3ac4f6e849cc",
      "name": "Merge1",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 2.1,
      "position": [
        1600,
        2740
      ]
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "=pick",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "8bc82b0c-1224-4b1a-8c5f-8889e9c22f7a",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "stats",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "8393d9b4-05b0-4ecf-a449-110e64114680",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "Finish",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "6a32c278-a8b4-4dd6-910c-38775e0c5267",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "menu_ok",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "5ac51105-cc73-4102-b9c6-a408ce0f165b",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "menu_wrong",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "055cb7dd-9a8d-43ba-93c7-93f7ab624e7a",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "continue",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "id": "19faddd1-ac31-4901-825f-3a0f92dafb4c",
      "name": "Picked_button",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3,
      "position": [
        580,
        2120
      ]
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "77fe838f-5f60-44cc-a654-5adcbbebf8bb",
                    "leftValue": "={{ $json.status }}",
                    "rightValue": "unauthorized",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "7dc92754-779a-4427-ba34-e7c6a59cb5c6",
                    "leftValue": "={{ $json.status }}",
                    "rightValue": "input_number",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "c328907d-5e2f-4059-b43d-dec7c9a2136a",
                    "leftValue": "={{ $json.status }}",
                    "rightValue": "authorized",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "id": "15b1dfef-4723-44ef-993a-eac58fd89cf4",
      "name": "–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3,
      "position": [
        1200,
        720
      ]
    },
    {
      "parameters": {
        "operation": "update",
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "tg_users",
          "mode": "list",
          "cachedResultName": "tg_users"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "tg_id": "={{ $json.tg_id }}",
            "status": "input_number"
          },
          "matchingColumns": [
            "tg_id"
          ],
          "schema": [
            {
              "id": "tg_id",
              "displayName": "tg_id",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "odoo_id",
              "displayName": "odoo_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "status",
              "displayName": "status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ]
        },
        "options": {}
      },
      "id": "8a6b5798-595b-4611-9890-8861fe9f43cc",
      "name": "–º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å1",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.3,
      "position": [
        1560,
        560
      ],
      "credentials": {
        "postgres": {
          "id": "Q4ZHMkPf1vzJmsuw",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "–ß—Ç–æ–±—ã –≤–æ–π—Ç–∏, –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –∫–æ–Ω—Ç–∞–∫—Ç–æ–º",
        "replyMarkup": "replyKeyboard",
        "replyKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º",
                    "additionalFields": {
                      "request_contact": true
                    }
                  }
                ]
              }
            }
          ]
        },
        "replyKeyboardOptions": {},
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "id": "894d2df7-0fba-40bf-965e-6345fb854995",
      "name": "–æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –∫–æ–Ω—Ç–∞–∫—Ç–∞",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        1820,
        420
      ],
      "credentials": {
        "telegramApi": {
          "id": "ThC2kf8ZCBAO0FBa",
          "name": "Main Everest"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "24ec202f-0645-4527-b391-6bb1bc0ea711",
              "leftValue": "={{ $('Telegram Trigger').item.json.message.reply_to_message.text }}",
              "rightValue": "–ß—Ç–æ–±—ã –≤–æ–π—Ç–∏, –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –∫–æ–Ω—Ç–∞–∫—Ç–æ–º",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "d73ba3de-21b8-4b6a-ac6e-45427db775f6",
      "name": "–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        1640,
        760
      ]
    },
    {
      "parameters": {
        "resource": "custom",
        "customResource": "hr.employee",
        "operation": "getAll",
        "returnAll": true,
        "options": {
          "fieldsList": [
            "id",
            "mobile_phone"
          ]
        },
        "filterRequest": {
          "filter": [
            {
              "fieldName": "mobile_phone",
              "value": "={{ $('Telegram Trigger').item.json.message.contact.phone_number }}"
            }
          ]
        }
      },
      "id": "414ad5de-ce15-466c-995c-c2edf55851e2",
      "name": "–ø–æ–ª—É—á–∞–µ–º id –ø–æ mobile_phone",
      "type": "n8n-nodes-base.odoo",
      "typeVersion": 1,
      "position": [
        1980,
        660
      ],
      "alwaysOutputData": true,
      "credentials": {
        "odooApi": {
          "id": "IbOO6r3p0Qvo35Gh",
          "name": "Odoo –ê–ª–µ–∫—Å–µ–π"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "9b905cb5-83c4-4cdb-b1df-7e7f94e2a734",
              "leftValue": "={{ $json.id }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "446e3eb0-83d3-4eac-a202-3fd054d04ce8",
      "name": "–ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        2200,
        660
      ]
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "–¢–∞–∫–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –µ—â—ë –Ω–µ—Ç –≤ Odoo.",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "id": "8eb8effc-f2e6-43f0-a7a9-c0c6ab3d98ef",
      "name": "–ø–∏—à–µ–º, —á—Ç–æ –Ω–æ–º–µ—Ä–∞ –Ω–µ—Ç",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        2440,
        760
      ],
      "credentials": {
        "telegramApi": {
          "id": "ThC2kf8ZCBAO0FBa",
          "name": "Main Everest"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.reply_to_message.chat.id }}",
        "text": "=–í—ã —É—Å–ø–µ—à–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–ª–∏—Å—å, <b>{{ $json.name }}</b>",
        "replyMarkup": "replyKeyboardRemove",
        "replyKeyboardRemove": {
          "remove_keyboard": true
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "id": "e043d0b5-4dfc-4525-85f4-ff87d0e1dbcc",
      "name": "—É—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.1,
      "position": [
        2680,
        480
      ],
      "credentials": {
        "telegramApi": {
          "id": "ThC2kf8ZCBAO0FBa",
          "name": "Main Everest"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "tg_users",
          "mode": "list",
          "cachedResultName": "tg_users"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "tg_id": "={{ $json.result.chat.id }}",
            "odoo_id": "={{ $('–ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ').item.json.id }}",
            "status": "authorized"
          },
          "matchingColumns": [
            "tg_id"
          ],
          "schema": [
            {
              "id": "tg_id",
              "displayName": "tg_id",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "odoo_id",
              "displayName": "odoo_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "status",
              "displayName": "status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ]
        },
        "options": {}
      },
      "id": "1d55189a-cab6-4d5e-be86-1b1ad4908eda",
      "name": "–º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å –Ω–∞ \"–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω\"",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.3,
      "position": [
        2980,
        480
      ],
      "credentials": {
        "postgres": {
          "id": "Q4ZHMkPf1vzJmsuw",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "content": "–≠—Ç–∞ –Ω–æ–¥–∞ —É–¥–∞–ª—è–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É \"–ø–æ–¥–µ–ª–∏—Ç—Å—å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º\". –ù–æ —Ç–∞–∫–∂–µ –æ–Ω–∞ –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã",
        "height": 284.79395620525594,
        "width": 222.34055848395155
      },
      "id": "bfc17bf8-ec60-4620-a99e-26f2e1c148a1",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        2620,
        360
      ]
    },
    {
      "parameters": {
        "resource": "custom",
        "customResource": "hr.employee",
        "operation": "get",
        "customResourceId": "={{ $json.id }}",
        "options": {
          "fieldsList": [
            "name"
          ]
        }
      },
      "id": "6b1950cd-fa7b-4326-b947-7fb05d970b6e",
      "name": "–ø–æ–ª—É—á–∞–µ–º –∏–º—è",
      "type": "n8n-nodes-base.odoo",
      "typeVersion": 1,
      "position": [
        2440,
        520
      ],
      "credentials": {
        "odooApi": {
          "id": "IbOO6r3p0Qvo35Gh",
          "name": "Odoo –ê–ª–µ–∫—Å–µ–π"
        }
      }
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 1,
  "updatedAt": "2024-04-02T10:11:31.000Z",
  "versionId": "6710d319-906b-450b-81b1-c52c984f7b9f"
}